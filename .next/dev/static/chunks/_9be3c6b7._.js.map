{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\n// Supabase Configuration\n// For Next.js, use NEXT_PUBLIC_ prefix for client-side variables\nexport const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || 'http://localhost:8000';\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '';\n\nif (!supabaseAnonKey) {\n  console.warn('⚠️  NEXT_PUBLIC_SUPABASE_ANON_KEY is not set. Supabase client may not work properly.');\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: true,\n    autoRefreshToken: true,\n  },\n});\n"],"names":[],"mappings":";;;;;;AAI2B;AAJ3B;;AAIO,MAAM,cAAc,6DAAwC;AACnE,MAAM,kBAAkB,iNAA6C;AAErE;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa,iBAAiB;IACjE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;IACpB;AACF"}},
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/context/AuthContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from 'react';\nimport { supabase } from '@/lib/supabase';\nimport { Profile } from '@/types';\n\ninterface AuthContextType {\n    user: Profile | null;\n    loading: boolean;\n    signIn: (email?: string, password?: string) => void;\n    signInWithEmail: (email: string, password: string) => Promise<void>;\n    signInWithGoogle: () => Promise<void>;\n    signOut: () => void;\n    isAdmin: boolean;\n    isStaff: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType>({} as AuthContextType);\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n    const [user, setUser] = useState<Profile | null>(null);\n    const [loading, setLoading] = useState(true);\n\n    // Fetch profile from database\n    const fetchProfile = async (userId: string) => {\n        try {\n            const { data, error } = await supabase\n                .from('profiles')\n                .select('*')\n                .eq('id', userId)\n                .single();\n\n            if (error) {\n                console.error('Error fetching profile:', error);\n                return null;\n            }\n            return data as Profile;\n        } catch (err) {\n            console.error('Unexpected error fetching profile:', err);\n            return null;\n        }\n    };\n\n    useEffect(() => {\n        // Check active session\n        const checkSession = async () => {\n            try {\n                const { data: { session }, error } = await supabase.auth.getSession();\n                if (error) throw error;\n\n                if (session?.user) {\n                    const profile = await fetchProfile(session.user.id);\n                    if (profile) {\n                        setUser(profile);\n                    } else {\n                        // Fallback if profile doesn't exist yet (should be handled by trigger, but just in case)\n                        setUser({\n                            id: session.user.id,\n                            email: session.user.email!,\n                            role: 'user',\n                            full_name: session.user.user_metadata?.full_name,\n                            avatar_url: session.user.user_metadata?.avatar_url\n                        });\n                    }\n                }\n            } catch (error) {\n                console.log(\"Auth session check skipped or failed\", error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        checkSession();\n\n        // Listen for auth changes\n        const { data: { subscription } } = supabase.auth.onAuthStateChange(async (_event, session) => {\n            if (session?.user) {\n                const profile = await fetchProfile(session.user.id);\n                setUser(profile || {\n                    id: session.user.id,\n                    email: session.user.email!,\n                    role: 'user'\n                });\n                setLoading(false);\n            } else {\n                setUser(null);\n                setLoading(false);\n            }\n        });\n\n        return () => {\n            subscription.unsubscribe();\n        };\n    }, []);\n\n    const signIn = (email?: string, password?: string) => {\n        // Admin Login Check (Mock)\n        if (email === 'info@guzellikrandevu.com.tr' && password === 'admin123') {\n            setUser({\n                id: 'admin_1',\n                email: 'info@guzellikrandevu.com.tr',\n                full_name: 'Sistem Yöneticisi',\n                role: 'admin',\n                avatar_url: 'https://ui-avatars.com/api/?name=Admin&background=C59F59&color=fff'\n            });\n        } else {\n            // Standard User Mock Login\n            setUser({\n                id: '123',\n                email: email || 'demo@salonrandevu.com',\n                full_name: 'Demo Kullanıcı',\n                role: 'user',\n                avatar_url: 'https://i.pravatar.cc/150?u=123'\n            });\n        }\n    };\n\n    const signInWithEmail = async (email: string, password: string) => {\n        try {\n            const { data, error } = await supabase.auth.signInWithPassword({\n                email,\n                password,\n            });\n\n            if (error) throw error;\n            // State update handled by onAuthStateChange\n        } catch (err) {\n            console.log('Auth error, using mock login:', err);\n            signIn(email, password);\n        }\n    };\n\n    const signInWithGoogle = async () => {\n        try {\n            const redirectUrl = typeof window !== 'undefined' ? `${window.location.origin}/` : 'http://localhost:3000/';\n            const { error } = await supabase.auth.signInWithOAuth({\n                provider: 'google',\n                options: {\n                    redirectTo: redirectUrl,\n                    queryParams: {\n                        access_type: 'offline',\n                        prompt: 'consent',\n                    },\n                }\n            });\n\n            if (error) throw error;\n        } catch (err) {\n            console.log('Google auth error:', err);\n            // Fallback to mock login\n            setUser({\n                id: 'google_user',\n                email: 'user@gmail.com',\n                full_name: 'Google User',\n                role: 'user',\n                avatar_url: 'https://lh3.googleusercontent.com/a/default-user'\n            });\n        }\n    };\n\n    const signOut = async () => {\n        await supabase.auth.signOut();\n        setUser(null);\n    };\n\n    return (\n        <AuthContext.Provider value={{\n            user,\n            loading,\n            signIn,\n            signInWithEmail,\n            signInWithGoogle,\n            signOut,\n            isAdmin: user?.role === 'admin',\n            isStaff: user?.role === 'staff'\n        }}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n\nexport const useAuth = () => useContext(AuthContext);"],"names":[],"mappings":"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"}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/context/BookingContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, ReactNode } from 'react';\nimport type { SalonDetail, Staff, SalonServiceDetail } from '@/types';\n\ninterface BookingContextType {\n  // Salon info\n  salon: SalonDetail | null;\n  setSalon: (salon: SalonDetail | null) => void;\n\n  // Selected service\n  selectedService: SalonServiceDetail | null;\n  setSelectedService: (service: SalonServiceDetail | null) => void;\n\n  // Selected staff\n  selectedStaff: Staff | null;\n  setSelectedStaff: (staff: Staff | null) => void;\n\n  // Selected time\n  selectedDate: string | null;\n  setSelectedDate: (date: string | null) => void;\n  selectedTime: string | null;\n  setSelectedTime: (time: string | null) => void;\n\n  // Customer info\n  customerName: string;\n  setCustomerName: (name: string) => void;\n  customerPhone: string;\n  setCustomerPhone: (phone: string) => void;\n  customerNotes: string;\n  setCustomerNotes: (notes: string) => void;\n\n  // Reset booking\n  resetBooking: () => void;\n}\n\nconst BookingContext = createContext<BookingContextType | undefined>(undefined);\n\nexport function BookingProvider({ children }: { children: ReactNode }) {\n  const [salon, setSalon] = useState<SalonDetail | null>(null);\n  const [selectedService, setSelectedService] = useState<SalonServiceDetail | null>(null);\n  const [selectedStaff, setSelectedStaff] = useState<Staff | null>(null);\n  const [selectedDate, setSelectedDate] = useState<string | null>(null);\n  const [selectedTime, setSelectedTime] = useState<string | null>(null);\n  const [customerName, setCustomerName] = useState('');\n  const [customerPhone, setCustomerPhone] = useState('');\n  const [customerNotes, setCustomerNotes] = useState('');\n\n  const resetBooking = () => {\n    setSalon(null);\n    setSelectedService(null);\n    setSelectedStaff(null);\n    setSelectedDate(null);\n    setSelectedTime(null);\n    setCustomerName('');\n    setCustomerPhone('');\n    setCustomerNotes('');\n  };\n\n  return (\n    <BookingContext.Provider\n      value={{\n        salon,\n        setSalon,\n        selectedService,\n        setSelectedService,\n        selectedStaff,\n        setSelectedStaff,\n        selectedDate,\n        setSelectedDate,\n        selectedTime,\n        setSelectedTime,\n        customerName,\n        setCustomerName,\n        customerPhone,\n        setCustomerPhone,\n        customerNotes,\n        setCustomerNotes,\n        resetBooking,\n      }}\n    >\n      {children}\n    </BookingContext.Provider>\n  );\n}\n\nexport function useBooking() {\n  const context = useContext(BookingContext);\n  if (context === undefined) {\n    throw new Error('useBooking must be used within a BookingProvider');\n  }\n  return context;\n}\n\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAoCA,MAAM,+BAAiB,IAAA,8KAAa,EAAiC;AAE9D,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;;IACnE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAqB;IACvD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAA4B;IAClF,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAe;IACjE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAgB;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAgB;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAC;IAEnD,MAAM,eAAe;QACnB,SAAS;QACT,mBAAmB;QACnB,iBAAiB;QACjB,gBAAgB;QAChB,gBAAgB;QAChB,gBAAgB;QAChB,iBAAiB;QACjB,iBAAiB;IACnB;IAEA,qBACE,6LAAC,eAAe,QAAQ;QACtB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GA9CgB;KAAA;AAgDT,SAAS;;IACd,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/app/providers.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { AuthProvider } from '@/context/AuthContext';\nimport { BookingProvider } from '@/context/BookingContext';\n\nexport default function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <AuthProvider>\n      <BookingProvider>\n        {children}\n      </BookingProvider>\n    </AuthProvider>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAMe,SAAS,UAAU,EAAE,QAAQ,EAAiC;IAC3E,qBACE,6LAAC,0IAAY;kBACX,cAAA,6LAAC,gJAAe;sBACb;;;;;;;;;;;AAIT;KARwB"}}]
}