{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/services/db.ts"],"sourcesContent":["/**\n * Database Service Layer for GuzellikRandevu\n * Connects to self-hosted Supabase instance\n */\n\nimport { supabase, supabaseUrl } from '@/lib/supabase';\nimport type {\n  City, District, SalonType, ServiceCategory, GlobalService,\n  Salon, SalonDetail, Staff, SalonService, SalonServiceDetail,\n  WorkingHours, Appointment, Review, IYSLog\n} from '@/types';\n\n// Helper to check if we have a real connection\nconst isSupabaseConfigured = () => {\n  return supabaseUrl && supabaseUrl.includes('localhost:8000');\n};\n\n// ==============================================\n// MASTER DATA SERVICE (Admin-Managed Global Data)\n// ==============================================\n\nexport const MasterDataService = {\n  /**\n   * Get all cities (81 Turkish provinces)\n   */\n  async getCities(): Promise<City[]> {\n    const { data, error } = await supabase\n      .from('cities')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get districts for a specific city\n   */\n  async getDistrictsByCity(cityId: string): Promise<District[]> {\n    const { data, error } = await supabase\n      .from('districts')\n      .select('*')\n      .eq('city_id', cityId)\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all salon types (Kuaför, Berber, SPA, etc.)\n   */\n  async getSalonTypes(): Promise<SalonType[]> {\n    const { data, error } = await supabase\n      .from('salon_types')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all service categories (Saç, Tırnak, Makyaj, etc.)\n   */\n  async getServiceCategories(): Promise<ServiceCategory[]> {\n    const { data, error } = await supabase\n      .from('service_categories')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get global services by category\n   */\n  async getGlobalServicesByCategory(categoryId: string): Promise<GlobalService[]> {\n    const { data, error } = await supabase\n      .from('global_services')\n      .select('*')\n      .eq('category_id', categoryId)\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all global services\n   */\n  async getAllGlobalServices(): Promise<GlobalService[]> {\n    const { data, error } = await supabase\n      .from('global_services')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get navigation menu data (for header)\n   */\n  async getNavMenuData() {\n    const [salonTypes, categories, allServices] = await Promise.all([\n      this.getSalonTypes(),\n      this.getServiceCategories(),\n      this.getAllGlobalServices(),\n    ]);\n\n    // Group services by category ID\n    const servicesByCatId: Record<string, string[]> = {};\n    allServices.forEach(service => {\n      if (!servicesByCatId[service.category_id]) {\n        servicesByCatId[service.category_id] = [];\n      }\n      servicesByCatId[service.category_id].push(service.name);\n    });\n\n    return { salonTypes, categories, servicesByCatId };\n  },\n};\n\n// ==============================================\n// SALON SERVICE (Business/Tenant Data)\n// ==============================================\n\nexport const SalonDataService = {\n  /**\n   * Get all salons with detailed information (using view)\n   */\n  async getSalons(): Promise<SalonDetail[]> {\n    const { data, error } = await supabase\n      .from('salon_details')\n      .select('*')\n      .order('is_sponsored', { ascending: false })\n      .order('average_rating', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get salon by ID with details\n   */\n  async getSalonById(id: string): Promise<SalonDetail | null> {\n    const { data, error } = await supabase\n      .from('salon_details')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Search salons by filters\n   */\n  async searchSalons(filters: {\n    cityId?: string;\n    districtId?: string;\n    typeId?: string;\n    query?: string;\n  }): Promise<SalonDetail[]> {\n    let query = supabase\n      .from('salon_details')\n      .select('*');\n\n    if (filters.cityId) {\n      const { data: cityData } = await supabase\n        .from('cities')\n        .select('name')\n        .eq('id', filters.cityId)\n        .single();\n\n      if (cityData) {\n        query = query.eq('city_name', cityData.name);\n      }\n    }\n\n    if (filters.districtId) {\n      const { data: districtData } = await supabase\n        .from('districts')\n        .select('name')\n        .eq('id', filters.districtId)\n        .single();\n\n      if (districtData) {\n        query = query.eq('district_name', districtData.name);\n      }\n    }\n\n    if (filters.typeId) {\n      const { data: typeData } = await supabase\n        .from('salon_types')\n        .select('name')\n        .eq('id', filters.typeId)\n        .single();\n\n      if (typeData) {\n        query = query.eq('type_name', typeData.name);\n      }\n    }\n\n    if (filters.query) {\n      query = query.ilike('name', `%${filters.query}%`);\n    }\n\n    query = query\n      .order('is_sponsored', { ascending: false })\n      .order('average_rating', { ascending: false });\n\n    const { data, error } = await query;\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get salons by location (nearby)\n   */\n  async getSalonsByLocation(lat: number, lng: number, radiusKm: number = 10): Promise<SalonDetail[]> {\n    // Simple bounding box search (for more accurate, use PostGIS)\n    const latDelta = radiusKm / 111; // ~111km per degree latitude\n    const lngDelta = radiusKm / (111 * Math.cos(lat * Math.PI / 180));\n\n    const { data, error } = await supabase\n      .from('salon_details')\n      .select('*')\n      .gte('geo_latitude', lat - latDelta)\n      .lte('geo_latitude', lat + latDelta)\n      .gte('geo_longitude', lng - lngDelta)\n      .lte('geo_longitude', lng + lngDelta)\n      .order('is_sponsored', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Create a new salon\n   */\n  async createSalon(salon: Omit<Salon, 'id' | 'created_at' | 'updated_at'>): Promise<Salon> {\n    const { data, error } = await supabase\n      .from('salons')\n      .insert(salon)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Update salon\n   */\n  async updateSalon(id: string, updates: Partial<Salon>): Promise<Salon> {\n    const { data, error } = await supabase\n      .from('salons')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// STAFF SERVICE\n// ==============================================\n\nexport const StaffService = {\n  /**\n   * Get all staff for a salon\n   */\n  async getStaffBySalon(salonId: string): Promise<Staff[]> {\n    const { data, error } = await supabase\n      .from('staff')\n      .select('*')\n      .eq('salon_id', salonId)\n      .eq('is_active', true)\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get staff by ID\n   */\n  async getStaffById(id: string): Promise<Staff | null> {\n    const { data, error } = await supabase\n      .from('staff')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Create new staff member\n   */\n  async createStaff(staff: Omit<Staff, 'id' | 'created_at'>): Promise<Staff> {\n    const { data, error } = await supabase\n      .from('staff')\n      .insert(staff)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// SERVICE SERVICE (Salon Services)\n// ==============================================\n\nexport const ServiceService = {\n  /**\n   * Get services offered by a salon (with details)\n   */\n  async getServicesBySalon(salonId: string): Promise<SalonServiceDetail[]> {\n    const { data, error } = await supabase\n      .from('salon_service_details')\n      .select('*')\n      .eq('salon_id', salonId)\n      .order('category_name')\n      .order('service_name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get service by ID\n   */\n  async getServiceById(id: string): Promise<SalonServiceDetail | null> {\n    const { data, error } = await supabase\n      .from('salon_service_details')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Add service to salon\n   */\n  async addServiceToSalon(service: Omit<SalonService, 'id' | 'created_at'>): Promise<SalonService> {\n    const { data, error } = await supabase\n      .from('salon_services')\n      .insert(service)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Update salon service pricing\n   */\n  async updateSalonService(id: string, updates: Partial<SalonService>): Promise<SalonService> {\n    const { data, error } = await supabase\n      .from('salon_services')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// WORKING HOURS SERVICE\n// ==============================================\n\nexport const WorkingHoursService = {\n  /**\n   * Get working hours for staff member\n   */\n  async getWorkingHoursByStaff(staffId: string): Promise<WorkingHours[]> {\n    const { data, error } = await supabase\n      .from('working_hours')\n      .select('*')\n      .eq('staff_id', staffId)\n      .order('day_of_week');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Set working hours for staff\n   */\n  async setWorkingHours(hours: Omit<WorkingHours, 'id' | 'created_at'>): Promise<WorkingHours> {\n    const { data, error } = await supabase\n      .from('working_hours')\n      .upsert(hours, { onConflict: 'staff_id,day_of_week' })\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// APPOINTMENT SERVICE\n// ==============================================\n\nexport const AppointmentService = {\n  /**\n   * Get appointment by ID\n   */\n  async getAppointmentById(id: string): Promise<Appointment | null> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Get appointments for a salon\n   */\n  async getAppointmentsBySalon(salonId: string, startDate?: string, endDate?: string): Promise<Appointment[]> {\n    let query = supabase\n      .from('appointments')\n      .select('*')\n      .eq('salon_id', salonId);\n\n    if (startDate) {\n      query = query.gte('start_time', startDate);\n    }\n    if (endDate) {\n      query = query.lte('start_time', endDate);\n    }\n\n    query = query.order('start_time');\n\n    const { data, error } = await query;\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get appointments for a staff member\n   */\n  async getAppointmentsByStaff(staffId: string, date: string): Promise<Appointment[]> {\n    const startOfDay = new Date(date);\n    startOfDay.setHours(0, 0, 0, 0);\n\n    const endOfDay = new Date(date);\n    endOfDay.setHours(23, 59, 59, 999);\n\n    const { data, error } = await supabase\n      .from('appointments')\n      .select('*')\n      .eq('staff_id', staffId)\n      .gte('start_time', startOfDay.toISOString())\n      .lte('start_time', endOfDay.toISOString())\n      .order('start_time');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get appointments by customer phone\n   */\n  async getAppointmentsByPhone(phone: string): Promise<Appointment[]> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .select('*')\n      .eq('customer_phone', phone)\n      .order('start_time', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Create new appointment\n   */\n  async createAppointment(appointment: Omit<Appointment, 'id' | 'created_at' | 'updated_at'>): Promise<Appointment> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .insert(appointment)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Update appointment status\n   */\n  async updateAppointmentStatus(id: string, status: Appointment['status']): Promise<Appointment> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .update({ status })\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Cancel appointment\n   */\n  async cancelAppointment(id: string): Promise<Appointment> {\n    return this.updateAppointmentStatus(id, 'CANCELLED');\n  },\n};\n\n// ==============================================\n// REVIEW SERVICE\n// ==============================================\n\nexport const ReviewService = {\n  /**\n   * Get reviews for a salon\n   */\n  async getReviewsBySalon(salonId: string, limit: number = 50): Promise<Review[]> {\n    const { data, error } = await supabase\n      .from('reviews')\n      .select('*')\n      .eq('salon_id', salonId)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Create new review\n   */\n  async createReview(review: Omit<Review, 'id' | 'created_at'>): Promise<Review> {\n    const { data, error } = await supabase\n      .from('reviews')\n      .insert(review)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Get salon rating summary\n   */\n  async getSalonRating(salonId: string): Promise<{ average: number; count: number }> {\n    const { data, error } = await supabase\n      .from('salon_ratings')\n      .select('*')\n      .eq('salon_id', salonId)\n      .single();\n\n    if (error) return { average: 0, count: 0 };\n\n    return {\n      average: data?.average_rating || 0,\n      count: data?.review_count || 0,\n    };\n  },\n};\n\n// ==============================================\n// IYS LOG SERVICE (SMS Compliance)\n// ==============================================\n\nexport const IYSService = {\n  /**\n   * Log SMS send\n   */\n  async logSMS(log: Omit<IYSLog, 'id' | 'created_at'>): Promise<IYSLog> {\n    const { data, error } = await supabase\n      .from('iys_logs')\n      .insert(log)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Get SMS logs by phone\n   */\n  async getLogsByPhone(phone: string, limit: number = 50): Promise<IYSLog[]> {\n    const { data, error } = await supabase\n      .from('iys_logs')\n      .select('*')\n      .eq('phone', phone)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all IYS logs (admin)\n   */\n  async getAllLogs(limit: number = 100): Promise<IYSLog[]> {\n    const { data, error } = await supabase\n      .from('iys_logs')\n      .select('*')\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data || [];\n  },\n};\n\n// ==============================================\n// LEGACY COMPATIBILITY (for existing components)\n// ==============================================\n\n// Re-export new services with old names for backward compatibility\nexport const MasterService = MasterDataService;\n\n// Export all services\nexport default {\n  MasterDataService,\n  MasterService,\n  SalonDataService,\n  StaffService,\n  ServiceService,\n  WorkingHoursService,\n  AppointmentService,\n  ReviewService,\n  IYSService,\n};\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 394, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/components/Layout.tsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { MasterService } from '@/services/db';\nimport { SalonType, ServiceCategory } from '@/types';\n\nexport const Layout: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const pathname = usePathname();\n  const { user, signOut, isAdmin } = useAuth();\n  const isBooking = pathname.includes('/booking');\n\n  // Dynamic Menu State\n  const [salonTypes, setSalonTypes] = useState<SalonType[]>([]);\n  const [categories, setCategories] = useState<ServiceCategory[]>([]);\n  const [servicesByCat, setServicesByCat] = useState<Record<string, string[]>>({});\n\n  useEffect(() => {\n    const fetchMenuData = async () => {\n        const { salonTypes, categories, servicesByCatId } = await MasterService.getNavMenuData();\n        setSalonTypes(salonTypes);\n        setCategories(categories);\n        setServicesByCat(servicesByCatId);\n    };\n    fetchMenuData();\n  }, []);\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-background\">\n      <header className=\"sticky top-0 z-50 flex items-center justify-between whitespace-nowrap border-b border-border bg-surface/90 backdrop-blur-md px-4 md:px-6 py-4 shadow-sm\">\n        <div className=\"flex items-center gap-4 shrink-0\">\n          <Link href=\"/\" className=\"flex items-center gap-2 group\">\n            <div className=\"size-10 flex items-center justify-center bg-primary rounded-full text-white shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform\">\n              <span className=\"font-display font-bold text-xl\">G</span>\n            </div>\n            <h2 className=\"text-text-main text-2xl font-display font-bold leading-tight tracking-[-0.015em] hidden sm:block\">\n              Güzellik <span className=\"text-primary\">Randevu</span>\n            </h2>\n          </Link>\n        </div>\n        \n        {/* Central Navigation with Dynamic Dropdowns */}\n        <nav className=\"hidden lg:flex items-center gap-1 mx-4\">\n          \n          {/* 1. Salonlar Dropdown (Salon Types) */}\n          <div className=\"relative group px-3 py-3\">\n             <Link \n                href=\"/\"\n                className={`text-sm font-bold transition-colors flex items-center gap-1 group-hover:text-primary ${pathname === '/' ? 'text-primary' : 'text-text-secondary'}`}\n                suppressHydrationWarning\n              >\n                Salonlar\n                <span className=\"material-symbols-outlined text-[16px]\">expand_more</span>\n              </Link>\n              \n              <div className=\"absolute top-full left-0 mt-0 w-64 bg-surface border border-border rounded-xl shadow-soft opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-left overflow-hidden z-50 max-h-[80vh] overflow-y-auto\">\n                  <div className=\"py-2\">\n                      <Link href=\"/?type=all\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-primary hover:pl-5 transition-all font-bold\">Tüm Salonlar</Link>\n                      {salonTypes.map((type) => (\n                          <Link \n                            key={type.id} \n                            href={`/?type=${type.slug}`}\n                            className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-primary hover:pl-5 transition-all\"\n                          >\n                              {type.name}\n                          </Link>\n                      ))}\n                  </div>\n              </div>\n          </div>\n\n          {/* 2. Service Categories (Dynamic) */}\n          {categories.map((cat, index) => {\n              const services = servicesByCat[cat.id] || [];\n              const hasDropdown = services.length > 0;\n              \n              // Handle dropdown positioning for items on the right side of the screen\n              const isRightAligned = index > 3; \n\n              if (hasDropdown) {\n                  return (\n                    <div key={cat.id} className=\"relative group px-2 py-3\">\n                        <Link \n                            href={`/?search=${encodeURIComponent(cat.name)}`}\n                            className=\"text-sm font-medium text-text-secondary hover:text-primary transition-colors flex items-center gap-0.5\"\n                        >\n                            {cat.name}\n                            <span className=\"material-symbols-outlined text-[16px]\">expand_more</span>\n                        </Link>\n                        <div className={`absolute top-full mt-0 w-64 bg-surface border border-border rounded-xl shadow-soft opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform overflow-hidden z-50 max-h-[80vh] overflow-y-auto custom-scrollbar ${isRightAligned ? 'right-0 origin-top-right' : 'left-0 origin-top-left'}`}>\n                            <div className=\"py-2\">\n                                <Link href={`/?search=${encodeURIComponent(cat.name)}`} className=\"block px-4 py-2 text-sm font-bold text-text-main hover:bg-surface-alt hover:pl-5 transition-all border-b border-gray-100\">\n                                    Tüm {cat.name} Hizmetleri\n                                </Link>\n                                {services.map((serviceName, idx) => (\n                                    <Link \n                                        key={idx} \n                                        href={`/?search=${encodeURIComponent(serviceName)}`}\n                                        className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-primary hover:pl-5 transition-all\"\n                                    >\n                                        {serviceName}\n                                    </Link>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                  );\n              }\n\n              // Simple Link for categories without services\n              return (\n                <Link \n                    key={cat.id} \n                    href={`/?search=${encodeURIComponent(cat.name)}`}\n                    className=\"px-2 py-3 text-sm font-medium text-text-secondary hover:text-primary transition-colors\"\n                >\n                    {cat.name}\n                </Link>\n              );\n          })}\n        </nav>\n        \n        <div className=\"flex flex-1 justify-end gap-3 items-center shrink-0\">\n           {!isBooking && isAdmin && (\n              <Link href=\"/admin\" className=\"hidden xl:flex items-center justify-center px-4 py-2 bg-text-main hover:bg-black text-white text-xs font-bold rounded-full shadow-lg transition-all hover:scale-105 whitespace-nowrap\">\n                Yönetim\n              </Link>\n           )}\n           {!isBooking && user?.role === 'staff' && !isAdmin && (\n              <Link href=\"/booking/1/staff\" className=\"hidden xl:flex items-center justify-center px-4 py-2 bg-primary hover:bg-primary-hover text-white text-xs font-bold rounded-full shadow-lg shadow-primary/20 transition-all hover:scale-105 whitespace-nowrap\">\n                İşletme Ekle\n              </Link>\n           )}\n            \n            {user ? (\n                <div className=\"flex items-center gap-2\">\n                    <span className=\"text-sm font-bold text-text-main hidden xl:block truncate max-w-[100px]\">{user.full_name}</span>\n                    <div className=\"group relative\">\n                        <div \n                          className=\"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-9 border-2 border-border cursor-pointer hover:border-primary transition-colors\" \n                          style={{ backgroundImage: `url(\"${user.avatar_url}\")` }}\n                        ></div>\n                        <div className=\"absolute right-0 top-full mt-2 w-48 bg-surface border border-border rounded-xl shadow-soft opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right z-50\">\n                             <div className=\"p-2\">\n                                 {isAdmin && <Link href=\"/admin\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-text-main rounded-lg font-bold\">Admin Paneli</Link>}\n                                 <Link href=\"/profile\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-text-main rounded-lg\">Profilim</Link>\n                                 <Link href=\"/bookings\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-text-main rounded-lg\">Randevularım</Link>\n                                 <div className=\"h-px bg-border my-1\"></div>\n                                 <button onClick={signOut} className=\"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-surface-alt hover:text-red-600 rounded-lg\">Çıkış Yap</button>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n            ) : (\n                <div className=\"flex items-center gap-3\">\n                  <Link href=\"/login\" className=\"text-text-secondary hover:text-primary transition-colors text-sm font-medium whitespace-nowrap hidden sm:block\">\n                      Giriş Yap\n                  </Link>\n                  <Link href=\"/login\" className=\"px-5 py-2 bg-primary hover:bg-primary-hover text-white text-sm font-bold rounded-full shadow-lg shadow-primary/20 transition-all hover:scale-105 hidden sm:block whitespace-nowrap\">\n                      Kayıt Ol\n                  </Link>\n                </div>\n            )}\n            \n            <div className=\"lg:hidden text-text-main cursor-pointer p-2 hover:bg-surface-alt rounded-full transition-colors\">\n              <span className=\"material-symbols-outlined\">menu</span>\n            </div>\n        </div>\n        \n      </header>\n\n      <main className=\"flex-1 flex flex-col w-full\">\n        {children}\n      </main>\n\n      <footer className=\"border-t border-border bg-white pt-16 pb-8 mt-auto\">\n        <div className=\"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12\">\n                <div className=\"col-span-1\">\n                    <div className=\"flex items-center gap-2 mb-6\">\n                        <div className=\"size-8 bg-primary rounded-full flex items-center justify-center text-white font-display text-lg font-bold\">G</div>\n                        <span className=\"font-display font-bold text-xl text-text-main\">Güzellik <span className=\"text-primary\">Randevu</span></span>\n                    </div>\n                    <p className=\"text-sm leading-relaxed text-text-secondary mb-6\">\n                        Türkiye'nin en kapsamlı kişisel bakım ve güzellik platformu. Randevunuzu kolayca alın, güzelliğinize güzellik katın.\n                    </p>\n                </div>\n                <div>\n                    <h4 className=\"text-text-main font-bold mb-6\">Hızlı Erişim</h4>\n                    <ul className=\"space-y-3 text-sm text-text-secondary\">\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Hakkımızda</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">İletişim</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Kariyer</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Blog</a></li>\n                    </ul>\n                </div>\n                <div>\n                    <h4 className=\"text-text-main font-bold mb-6\">Kategoriler</h4>\n                    <ul className=\"space-y-3 text-sm text-text-secondary\">\n                        {salonTypes.slice(0, 5).map(t => (\n                            <li key={t.id}><Link href={`/?type=${t.slug}`} className=\"hover:text-primary transition-colors\">{t.name}</Link></li>\n                        ))}\n                    </ul>\n                </div>\n                <div>\n                    <h4 className=\"text-text-main font-bold mb-6\">İşletmeler İçin</h4>\n                    <ul className=\"space-y-3 text-sm text-text-secondary\">\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">İşletme Ekle</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Yönetim Paneli</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Başarı Hikayeleri</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Destek</a></li>\n                    </ul>\n                </div>\n            </div>\n            <div className=\"border-t border-border pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-text-muted\">\n              <p>© 2024 Güzellik Randevu. Tüm hakları saklıdır.</p>\n              <div className=\"flex gap-6 mt-4 md:mt-0\">\n                <a href=\"#\" className=\"hover:text-primary transition-colors\">Gizlilik Politikası</a>\n                <a href=\"#\" className=\"hover:text-primary transition-colors\">Kullanım Şartları</a>\n              </div>\n            </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1173, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/components/BookingSummary.tsx"],"sourcesContent":["import React from 'react';\nimport Link from 'next/link';\nimport { Salon, Staff, Service, SalonServiceDetail, SalonDetail } from '@/types';\n\ninterface BookingSummaryProps {\n  salon: Salon | SalonDetail;\n  staff?: Staff | null;\n  services: Service[] | SalonServiceDetail[];\n  totalPrice: number;\n  totalDuration: string;\n  step: number; // 1: Staff, 2: Time, 3: User Info, 4: Confirm\n}\n\nexport const BookingSummary: React.FC<BookingSummaryProps> = ({ \n  salon, \n  staff, \n  services, \n  totalPrice, \n  totalDuration, \n  step \n}) => {\n  return (\n    <div className=\"w-full lg:w-80 shrink-0\">\n      <div className=\"sticky top-24 flex flex-col gap-4\">\n        \n        {/* Step 2+ Visuals (Salon Image Card for Time/User-Info/Confirm pages) */}\n        {step >= 2 && (\n             <div className=\"rounded-xl bg-white border border-border overflow-hidden shadow-md mb-2\">\n             <div className=\"h-32 w-full bg-cover bg-center relative\" style={{ backgroundImage: `url(\\\"${salon.image}\\\")` }}>\n               <div className=\"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent\"></div>\n               <div className=\"absolute bottom-4 left-4\">\n                 <h3 className=\"text-white text-lg font-bold leading-tight\">{salon.name}</h3>\n                 <div className=\"flex items-center gap-1 text-primary text-sm mt-1\">\n                   <span className=\"material-symbols-outlined text-[16px] fill-current\" style={{ fontVariationSettings: \"'FILL' 1\" }}>star</span>\n                   <span className=\"font-bold\">{'average_rating' in salon ? salon.average_rating : 0}</span>\n                   <span className=\"text-gray-300 font-normal\">• {'city_name' in salon ? `${salon.district_name}, ${salon.city_name}` : salon.address}</span>\n                 </div>\n               </div>\n             </div>\n           </div>\n        )}\n\n        <div className=\"bg-white rounded-xl border border-border overflow-hidden shadow-card flex flex-col\">\n          <div className=\"p-4 border-b border-border bg-gray-50\">\n            <h3 className=\"text-text-main font-bold text-lg\">Randevu Özeti</h3>\n            <p className=\"text-text-secondary text-xs\">Seçimleriniz aşağıdadır</p>\n          </div>\n          \n          <div className=\"p-4 flex flex-col gap-4 max-h-[400px] overflow-y-auto custom-scrollbar\">\n            {services.map((service) => {\n              // Handle both Service and SalonServiceDetail types\n              const serviceName = 'service_name' in service ? service.service_name : service.name;\n              const serviceDuration = 'duration_min' in service ? `${service.duration_min} dk` : service.duration;\n              const servicePrice = service.price;\n\n              return (\n                <div key={service.id} className=\"flex justify-between items-start gap-2\">\n                  <div className=\"flex flex-col\">\n                    <span className=\"text-text-main text-sm font-medium\">{serviceName}</span>\n                    <span className=\"text-text-secondary text-xs\">{serviceDuration}</span>\n                  </div>\n                  <span className=\"text-primary font-bold text-sm whitespace-nowrap\">{servicePrice} TL</span>\n                </div>\n              );\n            })}\n\n            {staff && (\n              <div className=\"mt-2 pt-4 border-t border-dashed border-gray-200\">\n                <div className=\"flex items-center gap-3 bg-gray-50 p-2 rounded-lg border border-border relative\">\n                  <div className=\"size-8 rounded-full bg-cover bg-center border border-gray-200\" style={{ backgroundImage: `url(\\\"${staff.image}\\\")` }}></div>\n                  <div className=\"flex flex-col\">\n                    <span className=\"text-text-main text-xs font-bold\">{staff.name}</span>\n                    <span className=\"text-primary text-[10px]\">{staff.role}</span>\n                  </div>\n                  {step === 1 && (\n                     <button className=\"ml-auto text-text-muted hover:text-red-500 transition-colors\">\n                        <span className=\"material-symbols-outlined text-[16px]\">close</span>\n                     </button>\n                  )}\n                   {(step === 2 || step === 3) && (\n                       <Link href={`/booking/${salon.id}/staff`} className=\"ml-auto text-primary text-[10px] font-bold hover:underline\">Değiştir</Link>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"p-4 bg-gray-50 border-t border-border\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <span className=\"text-text-secondary text-sm\">Toplam Süre</span>\n              <span className=\"text-text-main text-sm font-medium\">{totalDuration}</span>\n            </div>\n            <div className=\"flex justify-between items-end mb-4\">\n              <span className=\"text-text-secondary text-sm\">Toplam Tutar</span>\n              <span className=\"text-text-main text-xl font-bold\">{totalPrice} TL</span>\n            </div>\n            \n            {step === 1 && (\n                <button disabled={!staff} className={`w-full h-12 rounded-lg font-bold text-base transition-colors shadow-md flex items-center justify-center gap-2 ${staff ? 'bg-primary text-white hover:bg-primary-hover' : 'bg-gray-100 text-text-muted cursor-not-allowed'}`}>\n                  {staff ? 'Devam Et' : 'Personel Seçiniz'}\n                  <span className=\"material-symbols-outlined text-[20px]\">arrow_forward</span>\n                </button>\n            )}\n            \n            {step < 4 && (\n                <p className=\"text-center text-text-muted text-[10px] mt-2\">Ödeme aşamasına henüz geçilmedi.</p>\n            )}\n          </div>\n        </div>\n\n        {/* Help Box - Only show on step 1 */}\n        {step === 1 && (\n            <div className=\"p-4 rounded-xl bg-blue-50 border border-blue-100 flex items-start gap-3\">\n            <span className=\"material-symbols-outlined text-blue-600 mt-0.5\">help</span>\n            <div>\n                <p className=\"text-blue-900 text-sm font-bold\">Yardıma mı ihtiyacınız var?</p>\n                <p className=\"text-blue-700 text-xs mt-1\">Personel seçimi konusunda kararsız kaldıysanız bizi arayabilirsiniz.</p>\n                <a href=\"#\" className=\"text-blue-600 text-xs font-bold mt-2 inline-block hover:underline\">0212 555 01 23</a>\n            </div>\n            </div>\n        )}\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1599, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/components/GeminiChat.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { GoogleGenAI } from '@google/genai';\n\ninterface Message {\n  id: string;\n  sender: 'user' | 'bot';\n  text: string;\n}\n\nexport const GeminiChat: React.FC = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: '1',\n      sender: 'bot',\n      text: 'Merhaba! Ben Güzellik Randevu asistanıyım. Size en uygun salonu veya uzmanı bulmanızda nasıl yardımcı olabilirim?',\n    },\n  ]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // Use a wide type because this repo currently reports missing DOM lib typings in some builds.\n  const messagesEndRef = useRef<any>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView?.({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, isOpen]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    const userMsg: Message = { id: Date.now().toString(), sender: 'user', text: input };\n    setMessages((prev) => [...prev, userMsg]);\n    setInput('');\n    setLoading(true);\n\n    try {\n      // Next.js: prefer server-side proxying; if client-side is kept, key must be public.\n      const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY;\n      if (!apiKey) {\n        throw new Error('Gemini API key not found');\n      }\n\n      const ai = new GoogleGenAI({ apiKey });\n      const response = await ai.models.generateContent({\n        model: 'gemini-3-flash-preview',\n        contents: `You are a helpful, polite, and knowledgeable salon concierge assistant for a Turkish salon booking app called 'Güzellik Randevu'. \n        User asks: \"${input}\". \n        Answer in Turkish. Keep it brief, helpful, and professional. \n        If asked about stylists, recommend based on common salon expertise (Elif for hair, Can for beard).`,\n      });\n\n      const botMsg: Message = {\n        id: (Date.now() + 1).toString(),\n        sender: 'bot',\n        text: response.text || 'Üzgünüm, şu an yanıt veremiyorum.',\n      };\n      setMessages((prev) => [...prev, botMsg]);\n    } catch (error) {\n      console.error('AI Error:', error);\n      const errorMsg: Message = {\n        id: (Date.now() + 1).toString(),\n        sender: 'bot',\n        text: 'Bağlantı hatası oluştu. Lütfen tekrar deneyin.',\n      };\n      setMessages((prev) => [...prev, errorMsg]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      {/* Floating Button */}\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"fixed bottom-6 right-6 z-50 p-4 bg-primary hover:bg-primary-hover text-white rounded-full shadow-2xl transition-all duration-300 hover:scale-105 flex items-center justify-center\"\n      >\n        {isOpen ? (\n          <span className=\"material-symbols-outlined text-2xl\">close</span>\n        ) : (\n          <span className=\"material-symbols-outlined text-2xl\">smart_toy</span>\n        )}\n      </button>\n\n      {/* Chat Window */}\n      {isOpen && (\n        <div className=\"fixed bottom-24 right-6 z-50 w-80 md:w-96 h-[500px] bg-white border border-border rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-fade-in-up\">\n          <div className=\"bg-primary/10 p-4 border-b border-border flex items-center gap-3\">\n            <div className=\"w-8 h-8 rounded-full bg-primary flex items-center justify-center shadow-sm\">\n              <span className=\"material-symbols-outlined text-white text-sm\">smart_toy</span>\n            </div>\n            <div>\n              <h4 className=\"text-text-main font-bold text-sm\">AI Asistan</h4>\n              <p className=\"text-text-secondary text-xs\">Size yardımcı olmak için buradayım</p>\n            </div>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\n            {messages.map((msg) => (\n              <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>\n                <div\n                  className={`max-w-[80%] p-3 rounded-2xl text-sm shadow-sm ${\n                    msg.sender === 'user'\n                      ? 'bg-primary text-white rounded-br-none font-medium'\n                      : 'bg-white text-text-main rounded-bl-none border border-border'\n                  }`}\n                >\n                  {msg.text}\n                </div>\n              </div>\n            ))}\n            {loading && (\n              <div className=\"flex justify-start\">\n                <div className=\"bg-white p-3 rounded-2xl rounded-bl-none border border-border flex gap-1 shadow-sm\">\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></span>\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100\"></span>\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200\"></span>\n                </div>\n              </div>\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n\n          <div className=\"p-3 bg-white border-t border-border\">\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={input}\n                onChange={(e) => setInput((e.target as any).value)}\n                onKeyDown={(e) => e.key === 'Enter' && handleSend()}\n                placeholder=\"Bir şeyler sorun...\"\n                className=\"w-full bg-gray-50 border border-gray-200 rounded-full py-3 pl-4 pr-12 text-sm text-text-main focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-colors\"\n              />\n              <button\n                onClick={handleSend}\n                disabled={!input.trim() || loading}\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-primary text-white rounded-full hover:bg-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm\"\n              >\n                <span className=\"material-symbols-outlined text-sm\">send</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1900, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/app/booking/%5Bid%5D/time/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useParams, useSearchParams } from 'next/navigation';\nimport { SalonDataService, StaffService, ServiceService } from '@/services/db';\nimport { Layout } from '@/components/Layout';\nimport { BookingSummary } from '@/components/BookingSummary';\nimport { GeminiChat } from '@/components/GeminiChat';\nimport { useBooking } from '@/context/BookingContext';\nimport type { SalonDetail, Staff, SalonServiceDetail } from '@/types';\n\nexport default function TimeSelection() {\n  const params = useParams();\n  const searchParams = useSearchParams();\n  const id = params.id as string;\n  const staffId = searchParams.get('staffId');\n  const {\n    salon: bookingSalon,\n    setSalon: setBookingSalon,\n    selectedService,\n    selectedStaff: bookingStaff\n  } = useBooking();\n\n  const [salon, setSalon] = useState<SalonDetail | null>(bookingSalon);\n  const [staff, setStaff] = useState<Staff | null>(bookingStaff);\n  const [services, setServices] = useState<SalonServiceDetail[]>(selectedService ? [selectedService] : []);\n  const [loading, setLoading] = useState(true);\n  const [selectedSlot, setSelectedSlot] = useState<string | null>(null);\n  const [selectedDate, setSelectedDate] = useState<Date>(new Date());\n  const [dateOffset, setDateOffset] = useState(0); // For scrolling through dates\n\n  // Fetch data\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!id) return;\n      setLoading(true);\n      try {\n        // Use booking context data if available, otherwise fetch\n        let salonData = bookingSalon;\n        if (!salonData) {\n          salonData = await SalonDataService.getSalonById(id);\n          setSalon(salonData);\n          if(salonData) setBookingSalon(salonData);\n        }\n\n        // If we have selected service from context, use it\n        if (selectedService) {\n          setServices([selectedService]);\n        } else {\n          // Fallback: fetch all services\n          const servicesData = await ServiceService.getServicesBySalon(id);\n          setServices(servicesData);\n        }\n\n        // Use booking context staff if available\n        if (bookingStaff) {\n          setStaff(bookingStaff);\n        } else if (staffId && staffId !== 'any') {\n          const staffData = await StaffService.getStaffById(staffId);\n          if (staffData) {\n            setStaff({\n              ...staffData,\n              image: staffData.photo || `https://i.pravatar.cc/150?u=${staffData.id}`,\n              role: staffData.specialty || 'Uzman',\n              rating: 4.5,\n              isOnline: staffData.is_active\n            });\n          }\n        } else {\n          // \"Any staff\" option\n          setStaff({\n            id: 'any',\n            salon_id: id,\n            name: 'Herhangi Bir Personel',\n            specialty: 'Otomatik Atama',\n            is_active: true,\n            created_at: new Date().toISOString(),\n            role: 'Otomatik Atama',\n            rating: 0,\n            image: 'https://i.pravatar.cc/150?u=any',\n            isOnline: false\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [id, staffId, bookingSalon, bookingStaff, selectedService, setBookingSalon]);\n\n  // Generate dynamic dates array starting from today\n  const generateDates = () => {\n    const dates = [];\n    const today = new Date();\n    const dayNames = ['Paz', 'Pzt', 'Sal', 'Çar', 'Per', 'Cum', 'Cmt'];\n    const monthNames = ['Ocak', 'Şubat', 'Mart', 'Nisan', 'Mayıs', 'Haziran',\n                        'Temmuz', 'Ağustos', 'Eylül', 'Ekim', 'Kasım', 'Aralık'];\n\n    for (let i = dateOffset; i < dateOffset + 5; i++) {\n      const date = new Date(today);\n      date.setDate(today.getDate() + i);\n\n      const dayOfWeek = date.getDay();\n      const isSunday = dayOfWeek === 0; // Sunday is typically closed\n\n      let displayName = dayNames[dayOfWeek];\n      if (i === 0) displayName = 'Bugün';\n      else if (i === 1) displayName = 'Yarın';\n\n      dates.push({\n        date: date,\n        day: date.getDate(),\n        month: monthNames[date.getMonth()],\n        name: displayName,\n        disabled: isSunday,\n        active: date.toDateString() === selectedDate.toDateString()\n      });\n    }\n\n    return dates;\n  };\n\n  const dates = generateDates();\n\n  const handleDateSelect = (date: Date) => {\n    setSelectedDate(date);\n    setSelectedSlot(null); // Reset selected time slot when date changes\n  };\n\n  const handlePrevDates = () => {\n    if (dateOffset > 0) {\n      setDateOffset(dateOffset - 1);\n    }\n  };\n\n  const handleNextDates = () => {\n    setDateOffset(dateOffset + 1);\n  };\n\n  const morningSlots = ['09:00', '09:30', '10:15', '11:00', '11:45'];\n  const afternoonSlots = ['13:30', '14:15', '15:00', '15:45', '16:30', '17:15'];\n\n  // Calculate totals from services\n  const totalPrice = services.reduce((sum, s) => sum + Number(s.price || 0), 0);\n  const totalDuration = services.reduce((sum, s) => sum + (s.duration_min || 0), 0);\n  const totalDurationStr = `${Math.floor(totalDuration / 60)} sa ${totalDuration % 60} dk`;\n\n  if (loading) {\n    return (\n      <Layout>\n        <div className=\"flex-1 flex justify-center py-8 px-4 md:px-10 lg:px-20 bg-background min-h-screen\">\n          <div className=\"flex items-center justify-center h-96\">\n            <div className=\"text-center\">\n              <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4\"></div>\n              <p className=\"text-text-secondary\">Yükleniyor...</p>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  if (!salon) {\n    return (\n      <Layout>\n        <div className=\"flex-1 flex justify-center py-8 px-4 md:px-10 lg:px-20 bg-background min-h-screen\">\n          <div className=\"text-center py-20\">\n            <h2 className=\"text-2xl font-bold text-text-main mb-4\">Salon bulunamadı</h2>\n            <Link href=\"/\" className=\"text-primary hover:underline\">Ana sayfaya dön</Link>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <div className=\"flex-1 flex justify-center py-8 px-4 md:px-10 lg:px-20 bg-background min-h-screen\">\n        <div className=\"w-full max-w-[1280px] flex flex-col gap-8\">\n            {/* Breadcrumb */}\n            <div className=\"flex flex-wrap items-center gap-2 px-4\">\n                <Link href=\"/\" className=\"text-text-secondary text-sm font-medium hover:text-text-main transition-colors\">Salon Seçimi</Link>\n                <span className=\"material-symbols-outlined text-text-muted text-sm\">chevron_right</span>\n                <Link href={`/booking/${id}/staff`} className=\"text-text-secondary text-sm font-medium hover:text-text-main transition-colors\">Hizmet Seçimi</Link>\n                <span className=\"material-symbols-outlined text-text-muted text-sm\">chevron_right</span>\n                <span className=\"text-primary text-sm font-bold border-b border-primary pb-0.5\">Zaman Slotları (Adım 3)</span>\n            </div>\n\n            <div className=\"flex flex-col lg:flex-row gap-8 items-start\">\n                 {/* Left Sidebar (Reused BookingSummary logic but positioned left for this screen design) */}\n                 <div className=\"w-full lg:w-[380px] flex-shrink-0 lg:sticky lg:top-24 order-2 lg:order-1\">\n                     <BookingSummary\n                        salon={salon}\n                        services={services as any}\n                        staff={staff}\n                        totalPrice={totalPrice}\n                        totalDuration={totalDurationStr}\n                        step={2}\n                    />\n                 </div>\n\n                 {/* Main Content */}\n                 <main className=\"flex-1 w-full min-w-0 order-1 lg:order-2\">\n                    <div className=\"flex flex-col gap-6\">\n                        <div className=\"flex flex-col gap-2\">\n                            <h1 className=\"text-text-main text-3xl font-bold leading-tight\">Randevu Zamanını Seçin</h1>\n                            <p className=\"text-text-secondary text-base\">Müsaitlik durumuna göre size en uygun zaman dilimini belirleyin.</p>\n                        </div>\n\n                        {/* Date Picker */}\n                        <div className=\"flex items-center gap-4 w-full overflow-x-auto pb-4 pt-2 no-scrollbar\">\n                            <button\n                                onClick={handlePrevDates}\n                                disabled={dateOffset === 0}\n                                className=\"flex-shrink-0 size-10 rounded-full border border-border bg-white text-text-secondary hover:bg-gray-100 flex items-center justify-center transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n                            >\n                                <span className=\"material-symbols-outlined\">chevron_left</span>\n                            </button>\n                            {dates.map((d, i) => (\n                                <button\n                                    key={i}\n                                    disabled={d.disabled}\n                                    onClick={() => !d.disabled && handleDateSelect(d.date)}\n                                    className={`flex-shrink-0 flex flex-col items-center justify-center min-w-[80px] h-[90px] rounded-xl border transition-all relative overflow-hidden group shadow-sm ${d.active ? 'border-2 border-primary bg-primary/5' : d.disabled ? 'border-border bg-gray-100 opacity-50 cursor-not-allowed' : 'border-border bg-white hover:border-primary/50 hover:bg-primary/5 cursor-pointer'}`}\n                                >\n                                    {d.active && <div className=\"absolute inset-0 bg-primary/5 group-hover:bg-primary/10 transition-colors\"></div>}\n                                    <span className={`relative text-xs font-bold uppercase tracking-wider mb-1 ${d.active ? 'text-primary' : 'text-text-secondary'}`}>{d.name}</span>\n                                    <span className=\"relative text-text-main text-2xl font-bold\">{d.day}</span>\n                                    <span className=\"relative text-text-secondary text-xs\">{d.month}</span>\n                                    {d.disabled && <span className=\"absolute bottom-1 text-[10px] text-red-500\">Kapalı</span>}\n                                </button>\n                            ))}\n                            <button\n                                onClick={handleNextDates}\n                                className=\"flex-shrink-0 size-10 rounded-full border border-border bg-white text-text-secondary hover:bg-gray-100 flex items-center justify-center transition-colors shadow-sm\"\n                            >\n                                <span className=\"material-symbols-outlined\">chevron_right</span>\n                            </button>\n                        </div>\n\n                        {/* Slots */}\n                        <div className=\"bg-white rounded-xl border border-border p-6 lg:p-8 shadow-card\">\n                             <div className=\"flex gap-6 mb-6 text-sm border-b border-border pb-4\">\n                                <div className=\"flex items-center gap-2\"><span className=\"size-3 rounded-full bg-white border-2 border-primary shadow-sm\"></span><span className=\"text-text-main\">Müsait</span></div>\n                                <div className=\"flex items-center gap-2\"><span className=\"size-3 rounded-full bg-gray-200\"></span><span className=\"text-text-muted\">Dolu</span></div>\n                                <div className=\"flex items-center gap-2\"><span className=\"size-3 rounded-full bg-primary border border-primary\"></span><span className=\"text-text-main\">Seçili</span></div>\n                             </div>\n\n                             {/* Morning */}\n                             <div className=\"mb-8\">\n                                <h3 className=\"flex items-center gap-2 text-text-main text-sm font-bold uppercase tracking-wider mb-4\">\n                                    <span className=\"material-symbols-outlined text-primary text-lg\">wb_sunny</span> Sabah (09:00 - 12:00)\n                                </h3>\n                                <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3\">\n                                    {morningSlots.map((time, i) => {\n                                        const disabled = i % 2 === 0;\n                                        return (\n                                            <button key={time} disabled={disabled} onClick={() => !disabled && setSelectedSlot(time)} className={`group relative py-3 px-2 rounded-lg border transition-all flex flex-col justify-center items-center gap-0.5 ${disabled ? 'border-transparent bg-gray-100 text-text-muted cursor-not-allowed' : selectedSlot === time ? 'bg-primary text-white border-primary shadow-md transform scale-105 z-10' : 'border-border bg-white hover:border-primary hover:text-primary'}`}>\n                                                {selectedSlot === time && <div className=\"absolute -top-2 -right-2 size-5 bg-white text-primary border border-primary rounded-full flex items-center justify-center\"><span className=\"material-symbols-outlined text-[14px] font-bold\">check</span></div>}\n                                                <span className={`text-sm font-bold ${disabled ? 'line-through decoration-gray-400 font-medium' : selectedSlot === time ? 'text-white' : 'text-text-main'}`}>{time}</span>\n                                            </button>\n                                        )\n                                    })}\n                                </div>\n                             </div>\n\n                             {/* Afternoon */}\n                             <div>\n                                <h3 className=\"flex items-center gap-2 text-text-main text-sm font-bold uppercase tracking-wider mb-4\">\n                                    <span className=\"material-symbols-outlined text-primary text-lg\">light_mode</span> Öğleden Sonra (12:00 - 18:00)\n                                </h3>\n                                <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3\">\n                                     {afternoonSlots.map((time, i) => {\n                                         const disabled = i === 1 || i === 4;\n                                         return (\n                                            <button key={time} disabled={disabled} onClick={() => !disabled && setSelectedSlot(time)} className={`group relative py-3 px-2 rounded-lg border transition-all flex flex-col justify-center items-center gap-0.5 ${disabled ? 'border-transparent bg-gray-100 text-text-muted cursor-not-allowed' : selectedSlot === time ? 'bg-primary text-white border-primary shadow-md transform scale-105 z-10' : 'border-border bg-white hover:border-primary hover:text-primary'}`}>\n                                                {selectedSlot === time && <div className=\"absolute -top-2 -right-2 size-5 bg-white text-primary border border-primary rounded-full flex items-center justify-center\"><span className=\"material-symbols-outlined text-[14px] font-bold\">check</span></div>}\n                                                <span className={`text-sm font-bold ${disabled ? 'line-through decoration-gray-400 font-medium' : selectedSlot === time ? 'text-white' : 'text-text-main'}`}>{time}</span>\n                                                {selectedSlot === time && <span className=\"text-[10px] opacity-90\">Bitiş: +45dk</span>}\n                                            </button>\n                                         )\n                                     })}\n                                </div>\n                             </div>\n                        </div>\n\n                        <div className=\"flex items-center justify-between pt-4 border-t border-border mt-4\">\n                            <Link href={`/booking/${id}/staff`} className=\"flex items-center gap-2 px-6 py-3 rounded-lg text-text-secondary font-medium hover:bg-gray-100 transition-colors\">\n                                <span className=\"material-symbols-outlined\">arrow_back</span> Geri Dön\n                            </Link>\n                            <Link href={`/booking/${id}/confirm`} className={`flex items-center gap-2 px-8 py-3 rounded-lg bg-primary text-white font-bold shadow-lg shadow-primary/20 hover:bg-primary-hover hover:shadow-primary/40 hover:-translate-y-0.5 transition-all ${!selectedSlot ? 'opacity-50 pointer-events-none' : ''}`}>\n                                Randevuyu Onayla\n                                <span className=\"material-symbols-outlined\">check_circle</span>\n                            </Link>\n                        </div>\n                    </div>\n                 </main>\n            </div>\n        </div>\n      </div>\n      <GeminiChat />\n    </Layout>\n  );\n};\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AATA;;;;;;;;;AAYe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,KAAK,OAAO,EAAE;IACpB,MAAM,UAAU,aAAa,GAAG,CAAC;IACjC,MAAM,EACJ,OAAO,YAAY,EACnB,UAAU,eAAe,EACzB,eAAe,EACf,eAAe,YAAY,EAC5B,GAAG,IAAA,2IAAU;IAEd,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAqB;IACvD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAe;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAuB,kBAAkB;QAAC;KAAgB,GAAG,EAAE;IACvG,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAgB;IAChE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAO,IAAI;IAC3D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC,IAAI,8BAA8B;IAE/E,aAAa;IACb,IAAA,0KAAS;mCAAC;YACR,MAAM;qDAAY;oBAChB,IAAI,CAAC,IAAI;oBACT,WAAW;oBACX,IAAI;wBACF,yDAAyD;wBACzD,IAAI,YAAY;wBAChB,IAAI,CAAC,WAAW;4BACd,YAAY,MAAM,qIAAgB,CAAC,YAAY,CAAC;4BAChD,SAAS;4BACT,IAAG,WAAW,gBAAgB;wBAChC;wBAEA,mDAAmD;wBACnD,IAAI,iBAAiB;4BACnB,YAAY;gCAAC;6BAAgB;wBAC/B,OAAO;4BACL,+BAA+B;4BAC/B,MAAM,eAAe,MAAM,mIAAc,CAAC,kBAAkB,CAAC;4BAC7D,YAAY;wBACd;wBAEA,yCAAyC;wBACzC,IAAI,cAAc;4BAChB,SAAS;wBACX,OAAO,IAAI,WAAW,YAAY,OAAO;4BACvC,MAAM,YAAY,MAAM,iIAAY,CAAC,YAAY,CAAC;4BAClD,IAAI,WAAW;gCACb,SAAS;oCACP,GAAG,SAAS;oCACZ,OAAO,UAAU,KAAK,IAAI,CAAC,4BAA4B,EAAE,UAAU,EAAE,EAAE;oCACvE,MAAM,UAAU,SAAS,IAAI;oCAC7B,QAAQ;oCACR,UAAU,UAAU,SAAS;gCAC/B;4BACF;wBACF,OAAO;4BACL,qBAAqB;4BACrB,SAAS;gCACP,IAAI;gCACJ,UAAU;gCACV,MAAM;gCACN,WAAW;gCACX,WAAW;gCACX,YAAY,IAAI,OAAO,WAAW;gCAClC,MAAM;gCACN,QAAQ;gCACR,OAAO;gCACP,UAAU;4BACZ;wBACF;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,wBAAwB;oBACxC,SAAU;wBACR,WAAW;oBACb;gBACF;;YACA;QACF;kCAAG;QAAC;QAAI;QAAS;QAAc;QAAc;QAAiB;KAAgB;IAE9E,mDAAmD;IACnD,MAAM,gBAAgB;QACpB,MAAM,QAAQ,EAAE;QAChB,MAAM,QAAQ,IAAI;QAClB,MAAM,WAAW;YAAC;YAAO;YAAO;YAAO;YAAO;YAAO;YAAO;SAAM;QAClE,MAAM,aAAa;YAAC;YAAQ;YAAS;YAAQ;YAAS;YAAS;YAC3C;YAAU;YAAW;YAAS;YAAQ;YAAS;SAAS;QAE5E,IAAK,IAAI,IAAI,YAAY,IAAI,aAAa,GAAG,IAAK;YAChD,MAAM,OAAO,IAAI,KAAK;YACtB,KAAK,OAAO,CAAC,MAAM,OAAO,KAAK;YAE/B,MAAM,YAAY,KAAK,MAAM;YAC7B,MAAM,WAAW,cAAc,GAAG,6BAA6B;YAE/D,IAAI,cAAc,QAAQ,CAAC,UAAU;YACrC,IAAI,MAAM,GAAG,cAAc;iBACtB,IAAI,MAAM,GAAG,cAAc;YAEhC,MAAM,IAAI,CAAC;gBACT,MAAM;gBACN,KAAK,KAAK,OAAO;gBACjB,OAAO,UAAU,CAAC,KAAK,QAAQ,GAAG;gBAClC,MAAM;gBACN,UAAU;gBACV,QAAQ,KAAK,YAAY,OAAO,aAAa,YAAY;YAC3D;QACF;QAEA,OAAO;IACT;IAEA,MAAM,QAAQ;IAEd,MAAM,mBAAmB,CAAC;QACxB,gBAAgB;QAChB,gBAAgB,OAAO,6CAA6C;IACtE;IAEA,MAAM,kBAAkB;QACtB,IAAI,aAAa,GAAG;YAClB,cAAc,aAAa;QAC7B;IACF;IAEA,MAAM,kBAAkB;QACtB,cAAc,aAAa;IAC7B;IAEA,MAAM,eAAe;QAAC;QAAS;QAAS;QAAS;QAAS;KAAQ;IAClE,MAAM,iBAAiB;QAAC;QAAS;QAAS;QAAS;QAAS;QAAS;KAAQ;IAE7E,iCAAiC;IACjC,MAAM,aAAa,SAAS,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,OAAO,EAAE,KAAK,IAAI,IAAI;IAC3E,MAAM,gBAAgB,SAAS,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,YAAY,IAAI,CAAC,GAAG;IAC/E,MAAM,mBAAmB,GAAG,KAAK,KAAK,CAAC,gBAAgB,IAAI,IAAI,EAAE,gBAAgB,GAAG,GAAG,CAAC;IAExF,IAAI,SAAS;QACX,qBACE,6LAAC,kIAAM;sBACL,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;;;;;0CACf,6LAAC;gCAAE,WAAU;0CAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;;IAM/C;IAEA,IAAI,CAAC,OAAO;QACV,qBACE,6LAAC,kIAAM;sBACL,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAyC;;;;;;sCACvD,6LAAC,0KAAI;4BAAC,MAAK;4BAAI,WAAU;sCAA+B;;;;;;;;;;;;;;;;;;;;;;IAKlE;IAEA,qBACE,6LAAC,kIAAM;;0BACL,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCAEX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,0KAAI;oCAAC,MAAK;oCAAI,WAAU;8CAAiF;;;;;;8CAC1G,6LAAC;oCAAK,WAAU;8CAAoD;;;;;;8CACpE,6LAAC,0KAAI;oCAAC,MAAM,CAAC,SAAS,EAAE,GAAG,MAAM,CAAC;oCAAE,WAAU;8CAAiF;;;;;;8CAC/H,6LAAC;oCAAK,WAAU;8CAAoD;;;;;;8CACpE,6LAAC;oCAAK,WAAU;8CAAgE;;;;;;;;;;;;sCAGpF,6LAAC;4BAAI,WAAU;;8CAEV,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC,kJAAc;wCACZ,OAAO;wCACP,UAAU;wCACV,OAAO;wCACP,YAAY;wCACZ,eAAe;wCACf,MAAM;;;;;;;;;;;8CAKb,6LAAC;oCAAK,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;;0DACX,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDAAG,WAAU;kEAAkD;;;;;;kEAChE,6LAAC;wDAAE,WAAU;kEAAgC;;;;;;;;;;;;0DAIjD,6LAAC;gDAAI,WAAU;;kEACX,6LAAC;wDACG,SAAS;wDACT,UAAU,eAAe;wDACzB,WAAU;kEAEV,cAAA,6LAAC;4DAAK,WAAU;sEAA4B;;;;;;;;;;;oDAE/C,MAAM,GAAG,CAAC,CAAC,GAAG,kBACX,6LAAC;4DAEG,UAAU,EAAE,QAAQ;4DACpB,SAAS,IAAM,CAAC,EAAE,QAAQ,IAAI,iBAAiB,EAAE,IAAI;4DACrD,WAAW,CAAC,wJAAwJ,EAAE,EAAE,MAAM,GAAG,yCAAyC,EAAE,QAAQ,GAAG,4DAA4D,oFAAoF;;gEAEtX,EAAE,MAAM,kBAAI,6LAAC;oEAAI,WAAU;;;;;;8EAC5B,6LAAC;oEAAK,WAAW,CAAC,yDAAyD,EAAE,EAAE,MAAM,GAAG,iBAAiB,uBAAuB;8EAAG,EAAE,IAAI;;;;;;8EACzI,6LAAC;oEAAK,WAAU;8EAA8C,EAAE,GAAG;;;;;;8EACnE,6LAAC;oEAAK,WAAU;8EAAwC,EAAE,KAAK;;;;;;gEAC9D,EAAE,QAAQ,kBAAI,6LAAC;oEAAK,WAAU;8EAA6C;;;;;;;2DATvE;;;;;kEAYb,6LAAC;wDACG,SAAS;wDACT,WAAU;kEAEV,cAAA,6LAAC;4DAAK,WAAU;sEAA4B;;;;;;;;;;;;;;;;;0DAKpD,6LAAC;gDAAI,WAAU;;kEACV,6LAAC;wDAAI,WAAU;;0EACZ,6LAAC;gEAAI,WAAU;;kFAA0B,6LAAC;wEAAK,WAAU;;;;;;kFAAwE,6LAAC;wEAAK,WAAU;kFAAiB;;;;;;;;;;;;0EAClK,6LAAC;gEAAI,WAAU;;kFAA0B,6LAAC;wEAAK,WAAU;;;;;;kFAAyC,6LAAC;wEAAK,WAAU;kFAAkB;;;;;;;;;;;;0EACpI,6LAAC;gEAAI,WAAU;;kFAA0B,6LAAC;wEAAK,WAAU;;;;;;kFAA8D,6LAAC;wEAAK,WAAU;kFAAiB;;;;;;;;;;;;;;;;;;kEAI3J,6LAAC;wDAAI,WAAU;;0EACZ,6LAAC;gEAAG,WAAU;;kFACV,6LAAC;wEAAK,WAAU;kFAAiD;;;;;;oEAAe;;;;;;;0EAEpF,6LAAC;gEAAI,WAAU;0EACV,aAAa,GAAG,CAAC,CAAC,MAAM;oEACrB,MAAM,WAAW,IAAI,MAAM;oEAC3B,qBACI,6LAAC;wEAAkB,UAAU;wEAAU,SAAS,IAAM,CAAC,YAAY,gBAAgB;wEAAO,WAAW,CAAC,4GAA4G,EAAE,WAAW,sEAAsE,iBAAiB,OAAO,4EAA4E,kEAAkE;;4EACtc,iBAAiB,sBAAQ,6LAAC;gFAAI,WAAU;0FAA4H,cAAA,6LAAC;oFAAK,WAAU;8FAAkD;;;;;;;;;;;0FACvO,6LAAC;gFAAK,WAAW,CAAC,kBAAkB,EAAE,WAAW,iDAAiD,iBAAiB,OAAO,eAAe,kBAAkB;0FAAG;;;;;;;uEAFrJ;;;;;gEAKrB;;;;;;;;;;;;kEAKP,6LAAC;;0EACE,6LAAC;gEAAG,WAAU;;kFACV,6LAAC;wEAAK,WAAU;kFAAiD;;;;;;oEAAiB;;;;;;;0EAEtF,6LAAC;gEAAI,WAAU;0EACT,eAAe,GAAG,CAAC,CAAC,MAAM;oEACvB,MAAM,WAAW,MAAM,KAAK,MAAM;oEAClC,qBACG,6LAAC;wEAAkB,UAAU;wEAAU,SAAS,IAAM,CAAC,YAAY,gBAAgB;wEAAO,WAAW,CAAC,4GAA4G,EAAE,WAAW,sEAAsE,iBAAiB,OAAO,4EAA4E,kEAAkE;;4EACtc,iBAAiB,sBAAQ,6LAAC;gFAAI,WAAU;0FAA4H,cAAA,6LAAC;oFAAK,WAAU;8FAAkD;;;;;;;;;;;0FACvO,6LAAC;gFAAK,WAAW,CAAC,kBAAkB,EAAE,WAAW,iDAAiD,iBAAiB,OAAO,eAAe,kBAAkB;0FAAG;;;;;;4EAC7J,iBAAiB,sBAAQ,6LAAC;gFAAK,WAAU;0FAAyB;;;;;;;uEAH1D;;;;;gEAMpB;;;;;;;;;;;;;;;;;;0DAKb,6LAAC;gDAAI,WAAU;;kEACX,6LAAC,0KAAI;wDAAC,MAAM,CAAC,SAAS,EAAE,GAAG,MAAM,CAAC;wDAAE,WAAU;;0EAC1C,6LAAC;gEAAK,WAAU;0EAA4B;;;;;;4DAAiB;;;;;;;kEAEjE,6LAAC,0KAAI;wDAAC,MAAM,CAAC,SAAS,EAAE,GAAG,QAAQ,CAAC;wDAAE,WAAW,CAAC,8LAA8L,EAAE,CAAC,eAAe,mCAAmC,IAAI;;4DAAE;0EAEvS,6LAAC;gEAAK,WAAU;0EAA4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQtE,6LAAC,0IAAU;;;;;;;;;;;AAGjB;GAtSwB;;QACP,kJAAS;QACH,wJAAe;QAQhC,2IAAU;;;KAVQ"}}]
}