{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/services/db.ts"],"sourcesContent":["/**\n * Database Service Layer for GuzellikRandevu\n * Connects to self-hosted Supabase instance\n */\n\nimport { supabase, supabaseUrl } from '@/lib/supabase';\nimport type {\n  City, District, SalonType, ServiceCategory, GlobalService,\n  Salon, SalonDetail, Staff, SalonService, SalonServiceDetail,\n  WorkingHours, Appointment, Review, IYSLog\n} from '@/types';\n\n// Helper to check if we have a real connection\nconst isSupabaseConfigured = () => {\n  return supabaseUrl && supabaseUrl.includes('localhost:8000');\n};\n\n// ==============================================\n// MASTER DATA SERVICE (Admin-Managed Global Data)\n// ==============================================\n\nexport const MasterDataService = {\n  /**\n   * Get all cities (81 Turkish provinces)\n   */\n  async getCities(): Promise<City[]> {\n    const { data, error } = await supabase\n      .from('cities')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get districts for a specific city\n   */\n  async getDistrictsByCity(cityId: string): Promise<District[]> {\n    const { data, error } = await supabase\n      .from('districts')\n      .select('*')\n      .eq('city_id', cityId)\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all salon types (Kuaför, Berber, SPA, etc.)\n   */\n  async getSalonTypes(): Promise<SalonType[]> {\n    const { data, error } = await supabase\n      .from('salon_types')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all service categories (Saç, Tırnak, Makyaj, etc.)\n   */\n  async getServiceCategories(): Promise<ServiceCategory[]> {\n    const { data, error } = await supabase\n      .from('service_categories')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get global services by category\n   */\n  async getGlobalServicesByCategory(categoryId: string): Promise<GlobalService[]> {\n    const { data, error } = await supabase\n      .from('global_services')\n      .select('*')\n      .eq('category_id', categoryId)\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all global services\n   */\n  async getAllGlobalServices(): Promise<GlobalService[]> {\n    const { data, error } = await supabase\n      .from('global_services')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get navigation menu data (for header)\n   */\n  async getNavMenuData() {\n    const [salonTypes, categories, allServices] = await Promise.all([\n      this.getSalonTypes(),\n      this.getServiceCategories(),\n      this.getAllGlobalServices(),\n    ]);\n\n    // Group services by category ID\n    const servicesByCatId: Record<string, string[]> = {};\n    allServices.forEach(service => {\n      if (!servicesByCatId[service.category_id]) {\n        servicesByCatId[service.category_id] = [];\n      }\n      servicesByCatId[service.category_id].push(service.name);\n    });\n\n    return { salonTypes, categories, servicesByCatId };\n  },\n};\n\n// ==============================================\n// SALON SERVICE (Business/Tenant Data)\n// ==============================================\n\nexport const SalonDataService = {\n  /**\n   * Get all salons with detailed information (using view)\n   */\n  async getSalons(): Promise<SalonDetail[]> {\n    const { data, error } = await supabase\n      .from('salon_details')\n      .select('*')\n      .order('is_sponsored', { ascending: false })\n      .order('average_rating', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get salon by ID with details\n   */\n  async getSalonById(id: string): Promise<SalonDetail | null> {\n    const { data, error } = await supabase\n      .from('salon_details')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Search salons by filters\n   */\n  async searchSalons(filters: {\n    cityId?: string;\n    districtId?: string;\n    typeId?: string;\n    query?: string;\n  }): Promise<SalonDetail[]> {\n    let query = supabase\n      .from('salon_details')\n      .select('*');\n\n    if (filters.cityId) {\n      const { data: cityData } = await supabase\n        .from('cities')\n        .select('name')\n        .eq('id', filters.cityId)\n        .single();\n\n      if (cityData) {\n        query = query.eq('city_name', cityData.name);\n      }\n    }\n\n    if (filters.districtId) {\n      const { data: districtData } = await supabase\n        .from('districts')\n        .select('name')\n        .eq('id', filters.districtId)\n        .single();\n\n      if (districtData) {\n        query = query.eq('district_name', districtData.name);\n      }\n    }\n\n    if (filters.typeId) {\n      const { data: typeData } = await supabase\n        .from('salon_types')\n        .select('name')\n        .eq('id', filters.typeId)\n        .single();\n\n      if (typeData) {\n        query = query.eq('type_name', typeData.name);\n      }\n    }\n\n    if (filters.query) {\n      query = query.ilike('name', `%${filters.query}%`);\n    }\n\n    query = query\n      .order('is_sponsored', { ascending: false })\n      .order('average_rating', { ascending: false });\n\n    const { data, error } = await query;\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get salons by location (nearby)\n   */\n  async getSalonsByLocation(lat: number, lng: number, radiusKm: number = 10): Promise<SalonDetail[]> {\n    // Simple bounding box search (for more accurate, use PostGIS)\n    const latDelta = radiusKm / 111; // ~111km per degree latitude\n    const lngDelta = radiusKm / (111 * Math.cos(lat * Math.PI / 180));\n\n    const { data, error } = await supabase\n      .from('salon_details')\n      .select('*')\n      .gte('geo_latitude', lat - latDelta)\n      .lte('geo_latitude', lat + latDelta)\n      .gte('geo_longitude', lng - lngDelta)\n      .lte('geo_longitude', lng + lngDelta)\n      .order('is_sponsored', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Create a new salon\n   */\n  async createSalon(salon: Omit<Salon, 'id' | 'created_at' | 'updated_at'>): Promise<Salon> {\n    const { data, error } = await supabase\n      .from('salons')\n      .insert(salon)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Update salon\n   */\n  async updateSalon(id: string, updates: Partial<Salon>): Promise<Salon> {\n    const { data, error } = await supabase\n      .from('salons')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// STAFF SERVICE\n// ==============================================\n\nexport const StaffService = {\n  /**\n   * Get all staff for a salon\n   */\n  async getStaffBySalon(salonId: string): Promise<Staff[]> {\n    const { data, error } = await supabase\n      .from('staff')\n      .select('*')\n      .eq('salon_id', salonId)\n      .eq('is_active', true)\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get staff by ID\n   */\n  async getStaffById(id: string): Promise<Staff | null> {\n    const { data, error } = await supabase\n      .from('staff')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Create new staff member\n   */\n  async createStaff(staff: Omit<Staff, 'id' | 'created_at'>): Promise<Staff> {\n    const { data, error } = await supabase\n      .from('staff')\n      .insert(staff)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// SERVICE SERVICE (Salon Services)\n// ==============================================\n\nexport const ServiceService = {\n  /**\n   * Get services offered by a salon (with details)\n   */\n  async getServicesBySalon(salonId: string): Promise<SalonServiceDetail[]> {\n    const { data, error } = await supabase\n      .from('salon_service_details')\n      .select('*')\n      .eq('salon_id', salonId)\n      .order('category_name')\n      .order('service_name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get service by ID\n   */\n  async getServiceById(id: string): Promise<SalonServiceDetail | null> {\n    const { data, error } = await supabase\n      .from('salon_service_details')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Add service to salon\n   */\n  async addServiceToSalon(service: Omit<SalonService, 'id' | 'created_at'>): Promise<SalonService> {\n    const { data, error } = await supabase\n      .from('salon_services')\n      .insert(service)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Update salon service pricing\n   */\n  async updateSalonService(id: string, updates: Partial<SalonService>): Promise<SalonService> {\n    const { data, error } = await supabase\n      .from('salon_services')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// WORKING HOURS SERVICE\n// ==============================================\n\nexport const WorkingHoursService = {\n  /**\n   * Get working hours for staff member\n   */\n  async getWorkingHoursByStaff(staffId: string): Promise<WorkingHours[]> {\n    const { data, error } = await supabase\n      .from('working_hours')\n      .select('*')\n      .eq('staff_id', staffId)\n      .order('day_of_week');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Set working hours for staff\n   */\n  async setWorkingHours(hours: Omit<WorkingHours, 'id' | 'created_at'>): Promise<WorkingHours> {\n    const { data, error } = await supabase\n      .from('working_hours')\n      .upsert(hours, { onConflict: 'staff_id,day_of_week' })\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// APPOINTMENT SERVICE\n// ==============================================\n\nexport const AppointmentService = {\n  /**\n   * Get appointment by ID\n   */\n  async getAppointmentById(id: string): Promise<Appointment | null> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Get appointments for a salon\n   */\n  async getAppointmentsBySalon(salonId: string, startDate?: string, endDate?: string): Promise<Appointment[]> {\n    let query = supabase\n      .from('appointments')\n      .select('*')\n      .eq('salon_id', salonId);\n\n    if (startDate) {\n      query = query.gte('start_time', startDate);\n    }\n    if (endDate) {\n      query = query.lte('start_time', endDate);\n    }\n\n    query = query.order('start_time');\n\n    const { data, error } = await query;\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get appointments for a staff member\n   */\n  async getAppointmentsByStaff(staffId: string, date: string): Promise<Appointment[]> {\n    const startOfDay = new Date(date);\n    startOfDay.setHours(0, 0, 0, 0);\n\n    const endOfDay = new Date(date);\n    endOfDay.setHours(23, 59, 59, 999);\n\n    const { data, error } = await supabase\n      .from('appointments')\n      .select('*')\n      .eq('staff_id', staffId)\n      .gte('start_time', startOfDay.toISOString())\n      .lte('start_time', endOfDay.toISOString())\n      .order('start_time');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get appointments by customer phone\n   */\n  async getAppointmentsByPhone(phone: string): Promise<Appointment[]> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .select('*')\n      .eq('customer_phone', phone)\n      .order('start_time', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Create new appointment\n   */\n  async createAppointment(appointment: Omit<Appointment, 'id' | 'created_at' | 'updated_at'>): Promise<Appointment> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .insert(appointment)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Update appointment status\n   */\n  async updateAppointmentStatus(id: string, status: Appointment['status']): Promise<Appointment> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .update({ status })\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Cancel appointment\n   */\n  async cancelAppointment(id: string): Promise<Appointment> {\n    return this.updateAppointmentStatus(id, 'CANCELLED');\n  },\n};\n\n// ==============================================\n// REVIEW SERVICE\n// ==============================================\n\nexport const ReviewService = {\n  /**\n   * Get reviews for a salon\n   */\n  async getReviewsBySalon(salonId: string, limit: number = 50): Promise<Review[]> {\n    const { data, error } = await supabase\n      .from('reviews')\n      .select('*')\n      .eq('salon_id', salonId)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Create new review\n   */\n  async createReview(review: Omit<Review, 'id' | 'created_at'>): Promise<Review> {\n    const { data, error } = await supabase\n      .from('reviews')\n      .insert(review)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Get salon rating summary\n   */\n  async getSalonRating(salonId: string): Promise<{ average: number; count: number }> {\n    const { data, error } = await supabase\n      .from('salon_ratings')\n      .select('*')\n      .eq('salon_id', salonId)\n      .single();\n\n    if (error) return { average: 0, count: 0 };\n\n    return {\n      average: data?.average_rating || 0,\n      count: data?.review_count || 0,\n    };\n  },\n};\n\n// ==============================================\n// IYS LOG SERVICE (SMS Compliance)\n// ==============================================\n\nexport const IYSService = {\n  /**\n   * Log SMS send\n   */\n  async logSMS(log: Omit<IYSLog, 'id' | 'created_at'>): Promise<IYSLog> {\n    const { data, error } = await supabase\n      .from('iys_logs')\n      .insert(log)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Get SMS logs by phone\n   */\n  async getLogsByPhone(phone: string, limit: number = 50): Promise<IYSLog[]> {\n    const { data, error } = await supabase\n      .from('iys_logs')\n      .select('*')\n      .eq('phone', phone)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all IYS logs (admin)\n   */\n  async getAllLogs(limit: number = 100): Promise<IYSLog[]> {\n    const { data, error } = await supabase\n      .from('iys_logs')\n      .select('*')\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data || [];\n  },\n};\n\n// ==============================================\n// LEGACY COMPATIBILITY (for existing components)\n// ==============================================\n\n// Re-export new services with old names for backward compatibility\nexport const MasterService = MasterDataService;\n\n// Export all services\nexport default {\n  MasterDataService,\n  MasterService,\n  SalonDataService,\n  StaffService,\n  ServiceService,\n  WorkingHoursService,\n  AppointmentService,\n  ReviewService,\n  IYSService,\n};\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/components/Layout.tsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { MasterService } from '@/services/db';\nimport { SalonType, ServiceCategory } from '@/types';\n\nexport const Layout: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const pathname = usePathname();\n  const { user, signOut, isAdmin } = useAuth();\n  const isBooking = pathname.includes('/booking');\n\n  // Dynamic Menu State\n  const [salonTypes, setSalonTypes] = useState<SalonType[]>([]);\n  const [categories, setCategories] = useState<ServiceCategory[]>([]);\n  const [servicesByCat, setServicesByCat] = useState<Record<string, string[]>>({});\n\n  useEffect(() => {\n    const fetchMenuData = async () => {\n        const { salonTypes, categories, servicesByCatId } = await MasterService.getNavMenuData();\n        setSalonTypes(salonTypes);\n        setCategories(categories);\n        setServicesByCat(servicesByCatId);\n    };\n    fetchMenuData();\n  }, []);\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-background\">\n      <header className=\"sticky top-0 z-50 flex items-center justify-between whitespace-nowrap border-b border-border bg-surface/90 backdrop-blur-md px-4 md:px-6 py-4 shadow-sm\">\n        <div className=\"flex items-center gap-4 shrink-0\">\n          <Link href=\"/\" className=\"flex items-center gap-2 group\">\n            <div className=\"size-10 flex items-center justify-center bg-primary rounded-full text-white shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform\">\n              <span className=\"font-display font-bold text-xl\">G</span>\n            </div>\n            <h2 className=\"text-text-main text-2xl font-display font-bold leading-tight tracking-[-0.015em] hidden sm:block\">\n              Güzellik <span className=\"text-primary\">Randevu</span>\n            </h2>\n          </Link>\n        </div>\n        \n        {/* Central Navigation with Dynamic Dropdowns */}\n        <nav className=\"hidden lg:flex items-center gap-1 mx-4\">\n          \n          {/* 1. Salonlar Dropdown (Salon Types) */}\n          <div className=\"relative group px-3 py-3\">\n             <Link \n                href=\"/\"\n                className={`text-sm font-bold transition-colors flex items-center gap-1 group-hover:text-primary ${pathname === '/' ? 'text-primary' : 'text-text-secondary'}`}\n                suppressHydrationWarning\n              >\n                Salonlar\n                <span className=\"material-symbols-outlined text-[16px]\">expand_more</span>\n              </Link>\n              \n              <div className=\"absolute top-full left-0 mt-0 w-64 bg-surface border border-border rounded-xl shadow-soft opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-left overflow-hidden z-50 max-h-[80vh] overflow-y-auto\">\n                  <div className=\"py-2\">\n                      <Link href=\"/?type=all\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-primary hover:pl-5 transition-all font-bold\">Tüm Salonlar</Link>\n                      {salonTypes.map((type) => (\n                          <Link \n                            key={type.id} \n                            href={`/?type=${type.slug}`}\n                            className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-primary hover:pl-5 transition-all\"\n                          >\n                              {type.name}\n                          </Link>\n                      ))}\n                  </div>\n              </div>\n          </div>\n\n          {/* 2. Service Categories (Dynamic) */}\n          {categories.map((cat, index) => {\n              const services = servicesByCat[cat.id] || [];\n              const hasDropdown = services.length > 0;\n              \n              // Handle dropdown positioning for items on the right side of the screen\n              const isRightAligned = index > 3; \n\n              if (hasDropdown) {\n                  return (\n                    <div key={cat.id} className=\"relative group px-2 py-3\">\n                        <Link \n                            href={`/?search=${encodeURIComponent(cat.name)}`}\n                            className=\"text-sm font-medium text-text-secondary hover:text-primary transition-colors flex items-center gap-0.5\"\n                        >\n                            {cat.name}\n                            <span className=\"material-symbols-outlined text-[16px]\">expand_more</span>\n                        </Link>\n                        <div className={`absolute top-full mt-0 w-64 bg-surface border border-border rounded-xl shadow-soft opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform overflow-hidden z-50 max-h-[80vh] overflow-y-auto custom-scrollbar ${isRightAligned ? 'right-0 origin-top-right' : 'left-0 origin-top-left'}`}>\n                            <div className=\"py-2\">\n                                <Link href={`/?search=${encodeURIComponent(cat.name)}`} className=\"block px-4 py-2 text-sm font-bold text-text-main hover:bg-surface-alt hover:pl-5 transition-all border-b border-gray-100\">\n                                    Tüm {cat.name} Hizmetleri\n                                </Link>\n                                {services.map((serviceName, idx) => (\n                                    <Link \n                                        key={idx} \n                                        href={`/?search=${encodeURIComponent(serviceName)}`}\n                                        className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-primary hover:pl-5 transition-all\"\n                                    >\n                                        {serviceName}\n                                    </Link>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                  );\n              }\n\n              // Simple Link for categories without services\n              return (\n                <Link \n                    key={cat.id} \n                    href={`/?search=${encodeURIComponent(cat.name)}`}\n                    className=\"px-2 py-3 text-sm font-medium text-text-secondary hover:text-primary transition-colors\"\n                >\n                    {cat.name}\n                </Link>\n              );\n          })}\n        </nav>\n        \n        <div className=\"flex flex-1 justify-end gap-3 items-center shrink-0\">\n           {!isBooking && isAdmin && (\n              <Link href=\"/admin\" className=\"hidden xl:flex items-center justify-center px-4 py-2 bg-text-main hover:bg-black text-white text-xs font-bold rounded-full shadow-lg transition-all hover:scale-105 whitespace-nowrap\">\n                Yönetim\n              </Link>\n           )}\n           {!isBooking && user?.role === 'staff' && !isAdmin && (\n              <Link href=\"/booking/1/staff\" className=\"hidden xl:flex items-center justify-center px-4 py-2 bg-primary hover:bg-primary-hover text-white text-xs font-bold rounded-full shadow-lg shadow-primary/20 transition-all hover:scale-105 whitespace-nowrap\">\n                İşletme Ekle\n              </Link>\n           )}\n            \n            {user ? (\n                <div className=\"flex items-center gap-2\">\n                    <span className=\"text-sm font-bold text-text-main hidden xl:block truncate max-w-[100px]\">{user.full_name}</span>\n                    <div className=\"group relative\">\n                        <div \n                          className=\"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-9 border-2 border-border cursor-pointer hover:border-primary transition-colors\" \n                          style={{ backgroundImage: `url(\"${user.avatar_url}\")` }}\n                        ></div>\n                        <div className=\"absolute right-0 top-full mt-2 w-48 bg-surface border border-border rounded-xl shadow-soft opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right z-50\">\n                             <div className=\"p-2\">\n                                 {isAdmin && <Link href=\"/admin\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-text-main rounded-lg font-bold\">Admin Paneli</Link>}\n                                 <Link href=\"/profile\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-text-main rounded-lg\">Profilim</Link>\n                                 <Link href=\"/bookings\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-text-main rounded-lg\">Randevularım</Link>\n                                 <div className=\"h-px bg-border my-1\"></div>\n                                 <button onClick={signOut} className=\"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-surface-alt hover:text-red-600 rounded-lg\">Çıkış Yap</button>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n            ) : (\n                <div className=\"flex items-center gap-3\">\n                  <Link href=\"/login\" className=\"text-text-secondary hover:text-primary transition-colors text-sm font-medium whitespace-nowrap hidden sm:block\">\n                      Giriş Yap\n                  </Link>\n                  <Link href=\"/login\" className=\"px-5 py-2 bg-primary hover:bg-primary-hover text-white text-sm font-bold rounded-full shadow-lg shadow-primary/20 transition-all hover:scale-105 hidden sm:block whitespace-nowrap\">\n                      Kayıt Ol\n                  </Link>\n                </div>\n            )}\n            \n            <div className=\"lg:hidden text-text-main cursor-pointer p-2 hover:bg-surface-alt rounded-full transition-colors\">\n              <span className=\"material-symbols-outlined\">menu</span>\n            </div>\n        </div>\n        \n      </header>\n\n      <main className=\"flex-1 flex flex-col w-full\">\n        {children}\n      </main>\n\n      <footer className=\"border-t border-border bg-white pt-16 pb-8 mt-auto\">\n        <div className=\"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12\">\n                <div className=\"col-span-1\">\n                    <div className=\"flex items-center gap-2 mb-6\">\n                        <div className=\"size-8 bg-primary rounded-full flex items-center justify-center text-white font-display text-lg font-bold\">G</div>\n                        <span className=\"font-display font-bold text-xl text-text-main\">Güzellik <span className=\"text-primary\">Randevu</span></span>\n                    </div>\n                    <p className=\"text-sm leading-relaxed text-text-secondary mb-6\">\n                        Türkiye'nin en kapsamlı kişisel bakım ve güzellik platformu. Randevunuzu kolayca alın, güzelliğinize güzellik katın.\n                    </p>\n                </div>\n                <div>\n                    <h4 className=\"text-text-main font-bold mb-6\">Hızlı Erişim</h4>\n                    <ul className=\"space-y-3 text-sm text-text-secondary\">\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Hakkımızda</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">İletişim</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Kariyer</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Blog</a></li>\n                    </ul>\n                </div>\n                <div>\n                    <h4 className=\"text-text-main font-bold mb-6\">Kategoriler</h4>\n                    <ul className=\"space-y-3 text-sm text-text-secondary\">\n                        {salonTypes.slice(0, 5).map(t => (\n                            <li key={t.id}><Link href={`/?type=${t.slug}`} className=\"hover:text-primary transition-colors\">{t.name}</Link></li>\n                        ))}\n                    </ul>\n                </div>\n                <div>\n                    <h4 className=\"text-text-main font-bold mb-6\">İşletmeler İçin</h4>\n                    <ul className=\"space-y-3 text-sm text-text-secondary\">\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">İşletme Ekle</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Yönetim Paneli</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Başarı Hikayeleri</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Destek</a></li>\n                    </ul>\n                </div>\n            </div>\n            <div className=\"border-t border-border pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-text-muted\">\n              <p>© 2024 Güzellik Randevu. Tüm hakları saklıdır.</p>\n              <div className=\"flex gap-6 mt-4 md:mt-0\">\n                <a href=\"#\" className=\"hover:text-primary transition-colors\">Gizlilik Politikası</a>\n                <a href=\"#\" className=\"hover:text-primary transition-colors\">Kullanım Şartları</a>\n              </div>\n            </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/components/BookingSummary.tsx"],"sourcesContent":["import React from 'react';\nimport Link from 'next/link';\nimport { Salon, Staff, Service, SalonServiceDetail, SalonDetail } from '@/types';\n\ninterface BookingSummaryProps {\n  salon: Salon | SalonDetail;\n  staff?: Staff | null;\n  services: Service[] | SalonServiceDetail[];\n  totalPrice: number;\n  totalDuration: string;\n  step: number; // 1: Staff, 2: Time, 3: User Info, 4: Confirm\n}\n\nexport const BookingSummary: React.FC<BookingSummaryProps> = ({ \n  salon, \n  staff, \n  services, \n  totalPrice, \n  totalDuration, \n  step \n}) => {\n  return (\n    <div className=\"w-full lg:w-80 shrink-0\">\n      <div className=\"sticky top-24 flex flex-col gap-4\">\n        \n        {/* Step 2+ Visuals (Salon Image Card for Time/User-Info/Confirm pages) */}\n        {step >= 2 && (\n             <div className=\"rounded-xl bg-white border border-border overflow-hidden shadow-md mb-2\">\n             <div className=\"h-32 w-full bg-cover bg-center relative\" style={{ backgroundImage: `url(\\\"${salon.image}\\\")` }}>\n               <div className=\"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent\"></div>\n               <div className=\"absolute bottom-4 left-4\">\n                 <h3 className=\"text-white text-lg font-bold leading-tight\">{salon.name}</h3>\n                 <div className=\"flex items-center gap-1 text-primary text-sm mt-1\">\n                   <span className=\"material-symbols-outlined text-[16px] fill-current\" style={{ fontVariationSettings: \"'FILL' 1\" }}>star</span>\n                   <span className=\"font-bold\">{'average_rating' in salon ? salon.average_rating : 0}</span>\n                   <span className=\"text-gray-300 font-normal\">• {'city_name' in salon ? `${salon.district_name}, ${salon.city_name}` : salon.address}</span>\n                 </div>\n               </div>\n             </div>\n           </div>\n        )}\n\n        <div className=\"bg-white rounded-xl border border-border overflow-hidden shadow-card flex flex-col\">\n          <div className=\"p-4 border-b border-border bg-gray-50\">\n            <h3 className=\"text-text-main font-bold text-lg\">Randevu Özeti</h3>\n            <p className=\"text-text-secondary text-xs\">Seçimleriniz aşağıdadır</p>\n          </div>\n          \n          <div className=\"p-4 flex flex-col gap-4 max-h-[400px] overflow-y-auto custom-scrollbar\">\n            {services.map((service) => {\n              // Handle both Service and SalonServiceDetail types\n              const serviceName = 'service_name' in service ? service.service_name : service.name;\n              const serviceDuration = 'duration_min' in service ? `${service.duration_min} dk` : service.duration;\n              const servicePrice = service.price;\n\n              return (\n                <div key={service.id} className=\"flex justify-between items-start gap-2\">\n                  <div className=\"flex flex-col\">\n                    <span className=\"text-text-main text-sm font-medium\">{serviceName}</span>\n                    <span className=\"text-text-secondary text-xs\">{serviceDuration}</span>\n                  </div>\n                  <span className=\"text-primary font-bold text-sm whitespace-nowrap\">{servicePrice} TL</span>\n                </div>\n              );\n            })}\n\n            {staff && (\n              <div className=\"mt-2 pt-4 border-t border-dashed border-gray-200\">\n                <div className=\"flex items-center gap-3 bg-gray-50 p-2 rounded-lg border border-border relative\">\n                  <div className=\"size-8 rounded-full bg-cover bg-center border border-gray-200\" style={{ backgroundImage: `url(\\\"${staff.image}\\\")` }}></div>\n                  <div className=\"flex flex-col\">\n                    <span className=\"text-text-main text-xs font-bold\">{staff.name}</span>\n                    <span className=\"text-primary text-[10px]\">{staff.role}</span>\n                  </div>\n                  {step === 1 && (\n                     <button className=\"ml-auto text-text-muted hover:text-red-500 transition-colors\">\n                        <span className=\"material-symbols-outlined text-[16px]\">close</span>\n                     </button>\n                  )}\n                   {(step === 2 || step === 3) && (\n                       <Link href={`/booking/${salon.id}/staff`} className=\"ml-auto text-primary text-[10px] font-bold hover:underline\">Değiştir</Link>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"p-4 bg-gray-50 border-t border-border\">\n            <div className=\"flex justify-between items-center mb-1\">\n              <span className=\"text-text-secondary text-sm\">Toplam Süre</span>\n              <span className=\"text-text-main text-sm font-medium\">{totalDuration}</span>\n            </div>\n            <div className=\"flex justify-between items-end mb-4\">\n              <span className=\"text-text-secondary text-sm\">Toplam Tutar</span>\n              <span className=\"text-text-main text-xl font-bold\">{totalPrice} TL</span>\n            </div>\n            \n            {step === 1 && (\n                <button disabled={!staff} className={`w-full h-12 rounded-lg font-bold text-base transition-colors shadow-md flex items-center justify-center gap-2 ${staff ? 'bg-primary text-white hover:bg-primary-hover' : 'bg-gray-100 text-text-muted cursor-not-allowed'}`}>\n                  {staff ? 'Devam Et' : 'Personel Seçiniz'}\n                  <span className=\"material-symbols-outlined text-[20px]\">arrow_forward</span>\n                </button>\n            )}\n            \n            {step < 4 && (\n                <p className=\"text-center text-text-muted text-[10px] mt-2\">Ödeme aşamasına henüz geçilmedi.</p>\n            )}\n          </div>\n        </div>\n\n        {/* Help Box - Only show on step 1 */}\n        {step === 1 && (\n            <div className=\"p-4 rounded-xl bg-blue-50 border border-blue-100 flex items-start gap-3\">\n            <span className=\"material-symbols-outlined text-blue-600 mt-0.5\">help</span>\n            <div>\n                <p className=\"text-blue-900 text-sm font-bold\">Yardıma mı ihtiyacınız var?</p>\n                <p className=\"text-blue-700 text-xs mt-1\">Personel seçimi konusunda kararsız kaldıysanız bizi arayabilirsiniz.</p>\n                <a href=\"#\" className=\"text-blue-600 text-xs font-bold mt-2 inline-block hover:underline\">0212 555 01 23</a>\n            </div>\n            </div>\n        )}\n      </div>\n    </div>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1710, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/components/GeminiChat.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { GoogleGenAI } from '@google/genai';\n\ninterface Message {\n  id: string;\n  sender: 'user' | 'bot';\n  text: string;\n}\n\nexport const GeminiChat: React.FC = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: '1',\n      sender: 'bot',\n      text: 'Merhaba! Ben Güzellik Randevu asistanıyım. Size en uygun salonu veya uzmanı bulmanızda nasıl yardımcı olabilirim?',\n    },\n  ]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // Use a wide type because this repo currently reports missing DOM lib typings in some builds.\n  const messagesEndRef = useRef<any>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView?.({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, isOpen]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    const userMsg: Message = { id: Date.now().toString(), sender: 'user', text: input };\n    setMessages((prev) => [...prev, userMsg]);\n    setInput('');\n    setLoading(true);\n\n    try {\n      // Next.js: prefer server-side proxying; if client-side is kept, key must be public.\n      const apiKey = process.env.NEXT_PUBLIC_GEMINI_API_KEY;\n      if (!apiKey) {\n        throw new Error('Gemini API key not found');\n      }\n\n      const ai = new GoogleGenAI({ apiKey });\n      const response = await ai.models.generateContent({\n        model: 'gemini-3-flash-preview',\n        contents: `You are a helpful, polite, and knowledgeable salon concierge assistant for a Turkish salon booking app called 'Güzellik Randevu'. \n        User asks: \"${input}\". \n        Answer in Turkish. Keep it brief, helpful, and professional. \n        If asked about stylists, recommend based on common salon expertise (Elif for hair, Can for beard).`,\n      });\n\n      const botMsg: Message = {\n        id: (Date.now() + 1).toString(),\n        sender: 'bot',\n        text: response.text || 'Üzgünüm, şu an yanıt veremiyorum.',\n      };\n      setMessages((prev) => [...prev, botMsg]);\n    } catch (error) {\n      console.error('AI Error:', error);\n      const errorMsg: Message = {\n        id: (Date.now() + 1).toString(),\n        sender: 'bot',\n        text: 'Bağlantı hatası oluştu. Lütfen tekrar deneyin.',\n      };\n      setMessages((prev) => [...prev, errorMsg]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      {/* Floating Button */}\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"fixed bottom-6 right-6 z-50 p-4 bg-primary hover:bg-primary-hover text-white rounded-full shadow-2xl transition-all duration-300 hover:scale-105 flex items-center justify-center\"\n      >\n        {isOpen ? (\n          <span className=\"material-symbols-outlined text-2xl\">close</span>\n        ) : (\n          <span className=\"material-symbols-outlined text-2xl\">smart_toy</span>\n        )}\n      </button>\n\n      {/* Chat Window */}\n      {isOpen && (\n        <div className=\"fixed bottom-24 right-6 z-50 w-80 md:w-96 h-[500px] bg-white border border-border rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-fade-in-up\">\n          <div className=\"bg-primary/10 p-4 border-b border-border flex items-center gap-3\">\n            <div className=\"w-8 h-8 rounded-full bg-primary flex items-center justify-center shadow-sm\">\n              <span className=\"material-symbols-outlined text-white text-sm\">smart_toy</span>\n            </div>\n            <div>\n              <h4 className=\"text-text-main font-bold text-sm\">AI Asistan</h4>\n              <p className=\"text-text-secondary text-xs\">Size yardımcı olmak için buradayım</p>\n            </div>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50\">\n            {messages.map((msg) => (\n              <div key={msg.id} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>\n                <div\n                  className={`max-w-[80%] p-3 rounded-2xl text-sm shadow-sm ${\n                    msg.sender === 'user'\n                      ? 'bg-primary text-white rounded-br-none font-medium'\n                      : 'bg-white text-text-main rounded-bl-none border border-border'\n                  }`}\n                >\n                  {msg.text}\n                </div>\n              </div>\n            ))}\n            {loading && (\n              <div className=\"flex justify-start\">\n                <div className=\"bg-white p-3 rounded-2xl rounded-bl-none border border-border flex gap-1 shadow-sm\">\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></span>\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100\"></span>\n                  <span className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200\"></span>\n                </div>\n              </div>\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n\n          <div className=\"p-3 bg-white border-t border-border\">\n            <div className=\"relative\">\n              <input\n                type=\"text\"\n                value={input}\n                onChange={(e) => setInput((e.target as any).value)}\n                onKeyDown={(e) => e.key === 'Enter' && handleSend()}\n                placeholder=\"Bir şeyler sorun...\"\n                className=\"w-full bg-gray-50 border border-gray-200 rounded-full py-3 pl-4 pr-12 text-sm text-text-main focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-colors\"\n              />\n              <button\n                onClick={handleSend}\n                disabled={!input.trim() || loading}\n                className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-primary text-white rounded-full hover:bg-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-sm\"\n              >\n                <span className=\"material-symbols-outlined text-sm\">send</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1999, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/app/booking/%5Bid%5D/staff/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useParams, useRouter } from 'next/navigation';\nimport { SalonDataService, StaffService } from '@/services/db';\nimport { Layout } from '@/components/Layout';\nimport { BookingSummary } from '@/components/BookingSummary';\nimport { GeminiChat } from '@/components/GeminiChat';\nimport { useBooking } from '@/context/BookingContext';\nimport type { SalonDetail, Staff } from '@/types';\n\nexport default function StaffSelection() {\n  const params = useParams();\n  const router = useRouter();\n  const id = params.id as string;\n  const {\n    salon: bookingSalon,\n    setSalon: setBookingSalon,\n    selectedService,\n    selectedStaff: bookingStaff,\n    setSelectedStaff: setBookingStaff\n  } = useBooking();\n\n  const [salon, setSalon] = useState<SalonDetail | null>(bookingSalon);\n  const [staff, setStaff] = useState<Staff[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedStaffId, setSelectedStaffId] = useState<string | null>(bookingStaff?.id || null);\n\n  // Fetch salon and staff data\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!id) return;\n      setLoading(true);\n      try {\n        const [salonData, staffData] = await Promise.all([\n          bookingSalon || SalonDataService.getSalonById(id),\n          StaffService.getStaffBySalon(id)\n        ]);\n\n        if (salonData) {\n          setSalon(salonData);\n          if (!bookingSalon) {\n            setBookingSalon(salonData);\n          }\n        }\n\n        // Map staff data to include display properties\n        const mappedStaff = staffData.map(s => ({\n          ...s,\n          image: s.photo || `https://i.pravatar.cc/150?u=${s.id}`,\n          role: s.specialty || 'Uzman',\n          rating: 4.5, // TODO: Get from reviews/ratings\n          isOnline: s.is_active\n        }));\n\n        setStaff(mappedStaff);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [id, bookingSalon, setBookingSalon]);\n\n  const selectedStaff = selectedStaffId ? staff.find(s => s.id === selectedStaffId) : null;\n\n  // Get selected service from booking context\n  const selectedServices = selectedService ? [selectedService] : [];\n  const totalPrice = selectedService?.price || 0;\n  const totalDuration = selectedService?.duration_min ? `${selectedService.duration_min} dakika` : 'Belirsiz';\n\n  const handleStaffSelect = (staffId: string) => {\n    setSelectedStaffId(staffId);\n    const selectedStaffMember = staff.find(s => s.id === staffId);\n    if (selectedStaffMember) {\n      setBookingStaff(selectedStaffMember);\n    }\n  };\n\n  const handleNext = () => {\n      if (selectedStaffId) {\n          router.push(`/booking/${id}/time`);\n      }\n  };\n\n  if (loading) {\n    return (\n      <Layout>\n        <div className=\"layout-container px-4 md:px-10 py-8 max-w-[1440px] mx-auto w-full bg-background min-h-screen\">\n          <div className=\"flex items-center justify-center h-96\">\n            <div className=\"text-center\">\n              <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4\"></div>\n              <p className=\"text-text-secondary\">Personel bilgileri yükleniyor...</p>\n            </div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  if (!salon) {\n    return (\n      <Layout>\n        <div className=\"layout-container px-4 md:px-10 py-8 max-w-[1440px] mx-auto w-full bg-background min-h-screen\">\n          <div className=\"text-center py-20\">\n            <h2 className=\"text-2xl font-bold text-text-main mb-4\">Salon bulunamadı</h2>\n            <Link href=\"/\" className=\"text-primary hover:underline\">Ana sayfaya dön</Link>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <div className=\"layout-container px-4 md:px-10 py-8 max-w-[1440px] mx-auto w-full bg-background min-h-screen\">\n        {/* Stepper */}\n        <div className=\"mb-8 w-full max-w-[960px] mx-auto\">\n          <div className=\"flex flex-wrap items-center gap-2 text-sm md:text-base\">\n            <span className=\"text-text-secondary flex items-center gap-1\">\n              <span className=\"material-symbols-outlined text-[18px] text-green-500\">check_circle</span>\n              Hizmetler\n            </span>\n            <span className=\"material-symbols-outlined text-text-muted text-sm\">chevron_right</span>\n            <span className=\"text-primary font-bold flex items-center gap-1\">\n              <span className=\"flex items-center justify-center size-5 rounded-full bg-primary text-white text-xs font-bold\">2</span>\n              Personel Seçimi\n            </span>\n            <span className=\"material-symbols-outlined text-text-muted text-sm\">chevron_right</span>\n            <span className=\"text-text-muted\">Randevu Zamanı</span>\n            <span className=\"material-symbols-outlined text-text-muted text-sm\">chevron_right</span>\n            <span className=\"text-text-muted\">Onay</span>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col lg:flex-row gap-8 w-full justify-center\">\n          <div className=\"flex-1 flex flex-col max-w-[960px] relative pb-24\">\n            <div className=\"mb-8\">\n              <h1 className=\"text-text-main text-3xl md:text-4xl font-black leading-tight tracking-[-0.033em] mb-2\">Uzmanını Seç</h1>\n              <p className=\"text-text-secondary text-base font-normal\">Seçtiğiniz hizmetler için uygun profesyonellerimiz.</p>\n            </div>\n\n            {/* Filters */}\n            <div className=\"flex gap-3 mb-6 overflow-x-auto pb-2 no-scrollbar\">\n               <button className=\"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-primary text-white px-4 transition-transform active:scale-95 font-bold text-sm shadow-md\">Tüm Personel</button>\n               <button className=\"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white border border-border hover:border-primary text-text-secondary hover:text-primary px-4 transition-colors text-sm font-medium shadow-sm\"><span className=\"material-symbols-outlined text-[18px]\">star</span>En Yüksek Puan</button>\n               <button className=\"flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-lg bg-white border border-border hover:border-primary text-text-secondary hover:text-primary px-4 transition-colors text-sm font-medium shadow-sm\"><span className=\"material-symbols-outlined text-[18px]\">workspace_premium</span>Kıdemli Uzman</button>\n            </div>\n\n            {/* Any Staff Option */}\n            <div className=\"mb-8\">\n               <div\n                  onClick={() => handleStaffSelect('any')}\n                  className={`group cursor-pointer relative overflow-hidden rounded-xl border transition-all duration-300 shadow-sm ${selectedStaffId === 'any' ? 'bg-primary/5 border-primary ring-1 ring-primary' : 'bg-white border-border hover:border-primary/50 hover:shadow-md'}`}\n                >\n                  <div className=\"relative p-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\n                     <div className=\"flex items-center gap-4\">\n                        <div className=\"size-14 rounded-full bg-primary/10 flex items-center justify-center text-primary border border-primary/20\">\n                           <span className=\"material-symbols-outlined !text-3xl\">bolt</span>\n                        </div>\n                        <div>\n                           <h3 className=\"text-xl font-bold text-text-main group-hover:text-primary transition-colors\">Herhangi Bir Personel</h3>\n                           <p className=\"text-text-secondary text-sm mt-1\">En erken uygunluk için otomatik atama yapılır.</p>\n                        </div>\n                     </div>\n                     {selectedStaffId === 'any' && (\n                        <div className=\"shrink-0 h-10 px-6 rounded-lg bg-primary text-white font-bold text-sm flex items-center gap-2 justify-center animate-fade-in-up shadow-md\">\n                            Seçildi <span className=\"material-symbols-outlined text-[18px]\">check</span>\n                        </div>\n                     )}\n                  </div>\n               </div>\n            </div>\n\n            {/* Staff Grid */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n               {staff.length === 0 ? (\n                  <div className=\"col-span-2 text-center py-12\">\n                    <p className=\"text-text-secondary\">Bu salon için kayıtlı personel bulunamadı.</p>\n                  </div>\n               ) : (\n                  staff.map((s) => (\n                  <div\n                    key={s.id}\n                    onClick={() => handleStaffSelect(s.id)}\n                    className={`group bg-white rounded-xl border overflow-hidden transition-all duration-300 flex flex-col cursor-pointer relative ${selectedStaffId === s.id ? 'border-primary ring-1 ring-primary shadow-md scale-[1.02]' : 'border-border hover:border-primary/50 hover:shadow-lg'}`}\n                  >\n                     {selectedStaffId === s.id && (\n                        <div className=\"absolute top-3 right-3 text-primary z-10\">\n                            <span className=\"material-symbols-outlined filled\">check_circle</span>\n                        </div>\n                     )}\n                     <div className=\"p-5 flex gap-4\">\n                        <div className=\"relative shrink-0\">\n                           <div className=\"size-20 rounded-full bg-cover bg-center border border-gray-100 shadow-inner\" style={{ backgroundImage: `url(\"${s.image}\")` }}></div>\n                           {s.isOnline && <div className=\"absolute -bottom-1 -right-1 bg-green-500 border-2 border-white size-4 rounded-full\" title=\"Online\"></div>}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                           <div className=\"flex justify-between items-start\">\n                              <h3 className=\"text-lg font-bold text-text-main truncate\">{s.name}</h3>\n                              <div className=\"flex items-center gap-1 bg-yellow-50 px-2 py-0.5 rounded text-xs font-bold text-yellow-600 border border-yellow-100\">\n                                 <span className=\"material-symbols-outlined text-[14px] filled\">star</span> {s.rating}\n                              </div>\n                           </div>\n                           <p className=\"text-primary text-sm font-medium mb-1\">{s.role}</p>\n                           <p className=\"text-text-secondary text-xs line-clamp-2\">{s.specialty} konusunda uzman.</p>\n                        </div>\n                     </div>\n                     <div className={`mt-auto border-t p-3 transition-colors ${selectedStaffId === s.id ? 'border-primary/20 bg-primary/5' : 'border-border bg-gray-50'}`}>\n                        <button className={`w-full h-9 rounded font-bold text-sm transition-colors flex items-center justify-center gap-2 ${selectedStaffId === s.id ? 'bg-primary text-white shadow-sm' : 'bg-white border border-border text-text-secondary group-hover:bg-primary group-hover:text-white group-hover:border-primary'}`}>\n                           {selectedStaffId === s.id ? 'Seçildi' : 'Seç'}\n                        </button>\n                     </div>\n                  </div>\n               ))\n               )}\n            </div>\n\n            {/* Fixed Bottom Next Button Container */}\n             <div className={`fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-border p-4 flex justify-center z-50 transition-transform duration-300 shadow-[0_-4px_20px_rgba(0,0,0,0.05)] ${selectedStaffId ? 'translate-y-0' : 'translate-y-full'}`}>\n                <div className=\"w-full max-w-[960px] flex justify-between items-center px-4\">\n                    <div className=\"hidden md:flex flex-col\">\n                        <span className=\"text-text-secondary text-xs\">Seçilen Personel</span>\n                        <span className=\"text-text-main font-bold\">{selectedStaffId === 'any' ? 'Herhangi Bir Personel' : selectedStaff?.name}</span>\n                    </div>\n                    <button\n                        onClick={handleNext}\n                        className=\"w-full md:w-auto flex items-center justify-center gap-2 px-8 py-3.5 rounded-xl bg-primary text-white font-bold shadow-lg shadow-primary/20 hover:bg-primary-hover hover:shadow-primary/40 transition-all text-lg\"\n                    >\n                      Devam Et\n                      <span className=\"material-symbols-outlined\">arrow_forward</span>\n                    </button>\n                </div>\n            </div>\n\n          </div>\n\n          <BookingSummary\n             salon={salon}\n             services={selectedServices}\n             staff={selectedStaffId === 'any' ? {\n               id: 'any',\n               name: 'Herhangi Bir Personel',\n               role: 'Otomatik Atama',\n               rating: 0,\n               image: 'https://i.pravatar.cc/150?u=any',\n               specialty: '',\n               salon_id: id,\n               is_active: true,\n               created_at: new Date().toISOString()\n             } as Staff : selectedStaff}\n             totalPrice={totalPrice}\n             totalDuration={totalDuration}\n             step={1}\n          />\n        </div>\n      </div>\n      <GeminiChat />\n    </Layout>\n  );\n};\n\n"],"names":[],"mappings":"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"}}]
}