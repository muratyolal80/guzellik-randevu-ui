{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/services/db.ts"],"sourcesContent":["/**\n * Database Service Layer for GuzellikRandevu\n * Connects to self-hosted Supabase instance\n */\n\nimport { supabase, supabaseUrl } from '@/lib/supabase';\nimport type {\n  City, District, SalonType, ServiceCategory, GlobalService,\n  Salon, SalonDetail, Staff, SalonService, SalonServiceDetail,\n  WorkingHours, Appointment, Review, IYSLog\n} from '@/types';\n\n// Helper to check if we have a real connection\nconst isSupabaseConfigured = () => {\n  return supabaseUrl && supabaseUrl.includes('localhost:8000');\n};\n\n// ==============================================\n// MASTER DATA SERVICE (Admin-Managed Global Data)\n// ==============================================\n\nexport const MasterDataService = {\n  /**\n   * Get all cities (81 Turkish provinces)\n   */\n  async getCities(): Promise<City[]> {\n    const { data, error } = await supabase\n      .from('cities')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get districts for a specific city\n   */\n  async getDistrictsByCity(cityId: string): Promise<District[]> {\n    const { data, error } = await supabase\n      .from('districts')\n      .select('*')\n      .eq('city_id', cityId)\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all salon types (Kuaför, Berber, SPA, etc.)\n   */\n  async getSalonTypes(): Promise<SalonType[]> {\n    const { data, error } = await supabase\n      .from('salon_types')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all service categories (Saç, Tırnak, Makyaj, etc.)\n   */\n  async getServiceCategories(): Promise<ServiceCategory[]> {\n    const { data, error } = await supabase\n      .from('service_categories')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get global services by category\n   */\n  async getGlobalServicesByCategory(categoryId: string): Promise<GlobalService[]> {\n    const { data, error } = await supabase\n      .from('global_services')\n      .select('*')\n      .eq('category_id', categoryId)\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all global services\n   */\n  async getAllGlobalServices(): Promise<GlobalService[]> {\n    const { data, error } = await supabase\n      .from('global_services')\n      .select('*')\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get navigation menu data (for header)\n   */\n  async getNavMenuData() {\n    const [salonTypes, categories, allServices] = await Promise.all([\n      this.getSalonTypes(),\n      this.getServiceCategories(),\n      this.getAllGlobalServices(),\n    ]);\n\n    // Group services by category ID\n    const servicesByCatId: Record<string, string[]> = {};\n    allServices.forEach(service => {\n      if (!servicesByCatId[service.category_id]) {\n        servicesByCatId[service.category_id] = [];\n      }\n      servicesByCatId[service.category_id].push(service.name);\n    });\n\n    return { salonTypes, categories, servicesByCatId };\n  },\n};\n\n// ==============================================\n// SALON SERVICE (Business/Tenant Data)\n// ==============================================\n\nexport const SalonDataService = {\n  /**\n   * Get all salons with detailed information (using view)\n   */\n  async getSalons(): Promise<SalonDetail[]> {\n    const { data, error } = await supabase\n      .from('salon_details')\n      .select('*')\n      .order('is_sponsored', { ascending: false })\n      .order('average_rating', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get salon by ID with details\n   */\n  async getSalonById(id: string): Promise<SalonDetail | null> {\n    const { data, error } = await supabase\n      .from('salon_details')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Search salons by filters\n   */\n  async searchSalons(filters: {\n    cityId?: string;\n    districtId?: string;\n    typeId?: string;\n    query?: string;\n  }): Promise<SalonDetail[]> {\n    let query = supabase\n      .from('salon_details')\n      .select('*');\n\n    if (filters.cityId) {\n      const { data: cityData } = await supabase\n        .from('cities')\n        .select('name')\n        .eq('id', filters.cityId)\n        .single();\n\n      if (cityData) {\n        query = query.eq('city_name', cityData.name);\n      }\n    }\n\n    if (filters.districtId) {\n      const { data: districtData } = await supabase\n        .from('districts')\n        .select('name')\n        .eq('id', filters.districtId)\n        .single();\n\n      if (districtData) {\n        query = query.eq('district_name', districtData.name);\n      }\n    }\n\n    if (filters.typeId) {\n      const { data: typeData } = await supabase\n        .from('salon_types')\n        .select('name')\n        .eq('id', filters.typeId)\n        .single();\n\n      if (typeData) {\n        query = query.eq('type_name', typeData.name);\n      }\n    }\n\n    if (filters.query) {\n      query = query.ilike('name', `%${filters.query}%`);\n    }\n\n    query = query\n      .order('is_sponsored', { ascending: false })\n      .order('average_rating', { ascending: false });\n\n    const { data, error } = await query;\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get salons by location (nearby)\n   */\n  async getSalonsByLocation(lat: number, lng: number, radiusKm: number = 10): Promise<SalonDetail[]> {\n    // Simple bounding box search (for more accurate, use PostGIS)\n    const latDelta = radiusKm / 111; // ~111km per degree latitude\n    const lngDelta = radiusKm / (111 * Math.cos(lat * Math.PI / 180));\n\n    const { data, error } = await supabase\n      .from('salon_details')\n      .select('*')\n      .gte('geo_latitude', lat - latDelta)\n      .lte('geo_latitude', lat + latDelta)\n      .gte('geo_longitude', lng - lngDelta)\n      .lte('geo_longitude', lng + lngDelta)\n      .order('is_sponsored', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Create a new salon\n   */\n  async createSalon(salon: Omit<Salon, 'id' | 'created_at' | 'updated_at'>): Promise<Salon> {\n    const { data, error } = await supabase\n      .from('salons')\n      .insert(salon)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Update salon\n   */\n  async updateSalon(id: string, updates: Partial<Salon>): Promise<Salon> {\n    const { data, error } = await supabase\n      .from('salons')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// STAFF SERVICE\n// ==============================================\n\nexport const StaffService = {\n  /**\n   * Get all staff for a salon\n   */\n  async getStaffBySalon(salonId: string): Promise<Staff[]> {\n    const { data, error } = await supabase\n      .from('staff')\n      .select('*')\n      .eq('salon_id', salonId)\n      .eq('is_active', true)\n      .order('name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get staff by ID\n   */\n  async getStaffById(id: string): Promise<Staff | null> {\n    const { data, error } = await supabase\n      .from('staff')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Create new staff member\n   */\n  async createStaff(staff: Omit<Staff, 'id' | 'created_at'>): Promise<Staff> {\n    const { data, error } = await supabase\n      .from('staff')\n      .insert(staff)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// SERVICE SERVICE (Salon Services)\n// ==============================================\n\nexport const ServiceService = {\n  /**\n   * Get services offered by a salon (with details)\n   */\n  async getServicesBySalon(salonId: string): Promise<SalonServiceDetail[]> {\n    const { data, error } = await supabase\n      .from('salon_service_details')\n      .select('*')\n      .eq('salon_id', salonId)\n      .order('category_name')\n      .order('service_name');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get service by ID\n   */\n  async getServiceById(id: string): Promise<SalonServiceDetail | null> {\n    const { data, error } = await supabase\n      .from('salon_service_details')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Add service to salon\n   */\n  async addServiceToSalon(service: Omit<SalonService, 'id' | 'created_at'>): Promise<SalonService> {\n    const { data, error } = await supabase\n      .from('salon_services')\n      .insert(service)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Update salon service pricing\n   */\n  async updateSalonService(id: string, updates: Partial<SalonService>): Promise<SalonService> {\n    const { data, error } = await supabase\n      .from('salon_services')\n      .update(updates)\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// WORKING HOURS SERVICE\n// ==============================================\n\nexport const WorkingHoursService = {\n  /**\n   * Get working hours for staff member\n   */\n  async getWorkingHoursByStaff(staffId: string): Promise<WorkingHours[]> {\n    const { data, error } = await supabase\n      .from('working_hours')\n      .select('*')\n      .eq('staff_id', staffId)\n      .order('day_of_week');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Set working hours for staff\n   */\n  async setWorkingHours(hours: Omit<WorkingHours, 'id' | 'created_at'>): Promise<WorkingHours> {\n    const { data, error } = await supabase\n      .from('working_hours')\n      .upsert(hours, { onConflict: 'staff_id,day_of_week' })\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n};\n\n// ==============================================\n// APPOINTMENT SERVICE\n// ==============================================\n\nexport const AppointmentService = {\n  /**\n   * Get appointment by ID\n   */\n  async getAppointmentById(id: string): Promise<Appointment | null> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .select('*')\n      .eq('id', id)\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Get appointments for a salon\n   */\n  async getAppointmentsBySalon(salonId: string, startDate?: string, endDate?: string): Promise<Appointment[]> {\n    let query = supabase\n      .from('appointments')\n      .select('*')\n      .eq('salon_id', salonId);\n\n    if (startDate) {\n      query = query.gte('start_time', startDate);\n    }\n    if (endDate) {\n      query = query.lte('start_time', endDate);\n    }\n\n    query = query.order('start_time');\n\n    const { data, error } = await query;\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get appointments for a staff member\n   */\n  async getAppointmentsByStaff(staffId: string, date: string): Promise<Appointment[]> {\n    const startOfDay = new Date(date);\n    startOfDay.setHours(0, 0, 0, 0);\n\n    const endOfDay = new Date(date);\n    endOfDay.setHours(23, 59, 59, 999);\n\n    const { data, error } = await supabase\n      .from('appointments')\n      .select('*')\n      .eq('staff_id', staffId)\n      .gte('start_time', startOfDay.toISOString())\n      .lte('start_time', endOfDay.toISOString())\n      .order('start_time');\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get appointments by customer phone\n   */\n  async getAppointmentsByPhone(phone: string): Promise<Appointment[]> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .select('*')\n      .eq('customer_phone', phone)\n      .order('start_time', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Create new appointment\n   */\n  async createAppointment(appointment: Omit<Appointment, 'id' | 'created_at' | 'updated_at'>): Promise<Appointment> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .insert(appointment)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Update appointment status\n   */\n  async updateAppointmentStatus(id: string, status: Appointment['status']): Promise<Appointment> {\n    const { data, error } = await supabase\n      .from('appointments')\n      .update({ status })\n      .eq('id', id)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Cancel appointment\n   */\n  async cancelAppointment(id: string): Promise<Appointment> {\n    return this.updateAppointmentStatus(id, 'CANCELLED');\n  },\n};\n\n// ==============================================\n// REVIEW SERVICE\n// ==============================================\n\nexport const ReviewService = {\n  /**\n   * Get reviews for a salon\n   */\n  async getReviewsBySalon(salonId: string, limit: number = 50): Promise<Review[]> {\n    const { data, error } = await supabase\n      .from('reviews')\n      .select('*')\n      .eq('salon_id', salonId)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Create new review\n   */\n  async createReview(review: Omit<Review, 'id' | 'created_at'>): Promise<Review> {\n    const { data, error } = await supabase\n      .from('reviews')\n      .insert(review)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Get salon rating summary\n   */\n  async getSalonRating(salonId: string): Promise<{ average: number; count: number }> {\n    const { data, error } = await supabase\n      .from('salon_ratings')\n      .select('*')\n      .eq('salon_id', salonId)\n      .single();\n\n    if (error) return { average: 0, count: 0 };\n\n    return {\n      average: data?.average_rating || 0,\n      count: data?.review_count || 0,\n    };\n  },\n};\n\n// ==============================================\n// IYS LOG SERVICE (SMS Compliance)\n// ==============================================\n\nexport const IYSService = {\n  /**\n   * Log SMS send\n   */\n  async logSMS(log: Omit<IYSLog, 'id' | 'created_at'>): Promise<IYSLog> {\n    const { data, error } = await supabase\n      .from('iys_logs')\n      .insert(log)\n      .select()\n      .single();\n\n    if (error) throw error;\n    return data;\n  },\n\n  /**\n   * Get SMS logs by phone\n   */\n  async getLogsByPhone(phone: string, limit: number = 50): Promise<IYSLog[]> {\n    const { data, error } = await supabase\n      .from('iys_logs')\n      .select('*')\n      .eq('phone', phone)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data || [];\n  },\n\n  /**\n   * Get all IYS logs (admin)\n   */\n  async getAllLogs(limit: number = 100): Promise<IYSLog[]> {\n    const { data, error } = await supabase\n      .from('iys_logs')\n      .select('*')\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data || [];\n  },\n};\n\n// ==============================================\n// LEGACY COMPATIBILITY (for existing components)\n// ==============================================\n\n// Re-export new services with old names for backward compatibility\nexport const MasterService = MasterDataService;\n\n// Export all services\nexport default {\n  MasterDataService,\n  MasterService,\n  SalonDataService,\n  StaffService,\n  ServiceService,\n  WorkingHoursService,\n  AppointmentService,\n  ReviewService,\n  IYSService,\n};\n\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;;CAGC,GAED;;AAOA,+CAA+C;AAC/C,MAAM,uBAAuB;IAC3B,OAAO,8HAAW,IAAI,8HAAW,CAAC,QAAQ,CAAC;AAC7C;AAMO,MAAM,oBAAoB;IAC/B;;GAEC,GACD,MAAM;QACJ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,UACL,MAAM,CAAC,KACP,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,oBAAmB,MAAc;QACrC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,aACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,QACd,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM;QACJ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,eACL,MAAM,CAAC,KACP,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM;QACJ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,6BAA4B,UAAkB;QAClD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,mBACL,MAAM,CAAC,KACP,EAAE,CAAC,eAAe,YAClB,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM;QACJ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,mBACL,MAAM,CAAC,KACP,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM;QACJ,MAAM,CAAC,YAAY,YAAY,YAAY,GAAG,MAAM,QAAQ,GAAG,CAAC;YAC9D,IAAI,CAAC,aAAa;YAClB,IAAI,CAAC,oBAAoB;YACzB,IAAI,CAAC,oBAAoB;SAC1B;QAED,gCAAgC;QAChC,MAAM,kBAA4C,CAAC;QACnD,YAAY,OAAO,CAAC,CAAA;YAClB,IAAI,CAAC,eAAe,CAAC,QAAQ,WAAW,CAAC,EAAE;gBACzC,eAAe,CAAC,QAAQ,WAAW,CAAC,GAAG,EAAE;YAC3C;YACA,eAAe,CAAC,QAAQ,WAAW,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI;QACxD;QAEA,OAAO;YAAE;YAAY;YAAY;QAAgB;IACnD;AACF;AAMO,MAAM,mBAAmB;IAC9B;;GAEC,GACD,MAAM;QACJ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,KAAK,CAAC,gBAAgB;YAAE,WAAW;QAAM,GACzC,KAAK,CAAC,kBAAkB;YAAE,WAAW;QAAM;QAE9C,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,cAAa,EAAU;QAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,cAAa,OAKlB;QACC,IAAI,QAAQ,2HAAQ,CACjB,IAAI,CAAC,iBACL,MAAM,CAAC;QAEV,IAAI,QAAQ,MAAM,EAAE;YAClB,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,2HAAQ,CACtC,IAAI,CAAC,UACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,QAAQ,MAAM,EACvB,MAAM;YAET,IAAI,UAAU;gBACZ,QAAQ,MAAM,EAAE,CAAC,aAAa,SAAS,IAAI;YAC7C;QACF;QAEA,IAAI,QAAQ,UAAU,EAAE;YACtB,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,MAAM,2HAAQ,CAC1C,IAAI,CAAC,aACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,QAAQ,UAAU,EAC3B,MAAM;YAET,IAAI,cAAc;gBAChB,QAAQ,MAAM,EAAE,CAAC,iBAAiB,aAAa,IAAI;YACrD;QACF;QAEA,IAAI,QAAQ,MAAM,EAAE;YAClB,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,MAAM,2HAAQ,CACtC,IAAI,CAAC,eACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,QAAQ,MAAM,EACvB,MAAM;YAET,IAAI,UAAU;gBACZ,QAAQ,MAAM,EAAE,CAAC,aAAa,SAAS,IAAI;YAC7C;QACF;QAEA,IAAI,QAAQ,KAAK,EAAE;YACjB,QAAQ,MAAM,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,KAAK,CAAC,CAAC,CAAC;QAClD;QAEA,QAAQ,MACL,KAAK,CAAC,gBAAgB;YAAE,WAAW;QAAM,GACzC,KAAK,CAAC,kBAAkB;YAAE,WAAW;QAAM;QAE9C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;QAC9B,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,qBAAoB,GAAW,EAAE,GAAW,EAAE,WAAmB,EAAE;QACvE,8DAA8D;QAC9D,MAAM,WAAW,WAAW,KAAK,6BAA6B;QAC9D,MAAM,WAAW,WAAW,CAAC,MAAM,KAAK,GAAG,CAAC,MAAM,KAAK,EAAE,GAAG,IAAI;QAEhE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,GAAG,CAAC,gBAAgB,MAAM,UAC1B,GAAG,CAAC,gBAAgB,MAAM,UAC1B,GAAG,CAAC,iBAAiB,MAAM,UAC3B,GAAG,CAAC,iBAAiB,MAAM,UAC3B,KAAK,CAAC,gBAAgB;YAAE,WAAW;QAAM;QAE5C,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,aAAY,KAAsD;QACtE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,UACL,MAAM,CAAC,OACP,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,aAAY,EAAU,EAAE,OAAuB;QACnD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,UACL,MAAM,CAAC,SACP,EAAE,CAAC,MAAM,IACT,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;AACF;AAMO,MAAM,eAAe;IAC1B;;GAEC,GACD,MAAM,iBAAgB,OAAe;QACnC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,SACf,EAAE,CAAC,aAAa,MAChB,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,cAAa,EAAU;QAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,aAAY,KAAuC;QACvD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,OACP,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;AACF;AAMO,MAAM,iBAAiB;IAC5B;;GAEC,GACD,MAAM,oBAAmB,OAAe;QACtC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,yBACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,SACf,KAAK,CAAC,iBACN,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,gBAAe,EAAU;QAC7B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,yBACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,mBAAkB,OAAgD;QACtE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,kBACL,MAAM,CAAC,SACP,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,oBAAmB,EAAU,EAAE,OAA8B;QACjE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,kBACL,MAAM,CAAC,SACP,EAAE,CAAC,MAAM,IACT,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;AACF;AAMO,MAAM,sBAAsB;IACjC;;GAEC,GACD,MAAM,wBAAuB,OAAe;QAC1C,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,SACf,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,iBAAgB,KAA8C;QAClE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,iBACL,MAAM,CAAC,OAAO;YAAE,YAAY;QAAuB,GACnD,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;AACF;AAMO,MAAM,qBAAqB;IAChC;;GAEC,GACD,MAAM,oBAAmB,EAAU;QACjC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,IACT,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,wBAAuB,OAAe,EAAE,SAAkB,EAAE,OAAgB;QAChF,IAAI,QAAQ,2HAAQ,CACjB,IAAI,CAAC,gBACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY;QAElB,IAAI,WAAW;YACb,QAAQ,MAAM,GAAG,CAAC,cAAc;QAClC;QACA,IAAI,SAAS;YACX,QAAQ,MAAM,GAAG,CAAC,cAAc;QAClC;QAEA,QAAQ,MAAM,KAAK,CAAC;QAEpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;QAC9B,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,wBAAuB,OAAe,EAAE,IAAY;QACxD,MAAM,aAAa,IAAI,KAAK;QAC5B,WAAW,QAAQ,CAAC,GAAG,GAAG,GAAG;QAE7B,MAAM,WAAW,IAAI,KAAK;QAC1B,SAAS,QAAQ,CAAC,IAAI,IAAI,IAAI;QAE9B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,SACf,GAAG,CAAC,cAAc,WAAW,WAAW,IACxC,GAAG,CAAC,cAAc,SAAS,WAAW,IACtC,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,wBAAuB,KAAa;QACxC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,KACP,EAAE,CAAC,kBAAkB,OACrB,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,mBAAkB,WAAkE;QACxF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC,aACP,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,yBAAwB,EAAU,EAAE,MAA6B;QACrE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,gBACL,MAAM,CAAC;YAAE;QAAO,GAChB,EAAE,CAAC,MAAM,IACT,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,mBAAkB,EAAU;QAChC,OAAO,IAAI,CAAC,uBAAuB,CAAC,IAAI;IAC1C;AACF;AAMO,MAAM,gBAAgB;IAC3B;;GAEC,GACD,MAAM,mBAAkB,OAAe,EAAE,QAAgB,EAAE;QACzD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,SACf,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM,GACvC,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,cAAa,MAAyC;QAC1D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,WACL,MAAM,CAAC,QACP,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,gBAAe,OAAe;QAClC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,SACf,MAAM;QAET,IAAI,OAAO,OAAO;YAAE,SAAS;YAAG,OAAO;QAAE;QAEzC,OAAO;YACL,SAAS,MAAM,kBAAkB;YACjC,OAAO,MAAM,gBAAgB;QAC/B;IACF;AACF;AAMO,MAAM,aAAa;IACxB;;GAEC,GACD,MAAM,QAAO,GAAsC;QACjD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,MAAM,GACN,MAAM;QAET,IAAI,OAAO,MAAM;QACjB,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,gBAAe,KAAa,EAAE,QAAgB,EAAE;QACpD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,SAAS,OACZ,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM,GACvC,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;IAEA;;GAEC,GACD,MAAM,YAAW,QAAgB,GAAG;QAClC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,2HAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM,GACvC,KAAK,CAAC;QAET,IAAI,OAAO,MAAM;QACjB,OAAO,QAAQ,EAAE;IACnB;AACF;AAOO,MAAM,gBAAgB;uCAGd;IACb;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACF"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/components/Layout.tsx"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useAuth } from '@/context/AuthContext';\nimport { MasterService } from '@/services/db';\nimport { SalonType, ServiceCategory } from '@/types';\n\nexport const Layout: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const pathname = usePathname();\n  const { user, signOut, isAdmin } = useAuth();\n  const isBooking = pathname.includes('/booking');\n\n  // Dynamic Menu State\n  const [salonTypes, setSalonTypes] = useState<SalonType[]>([]);\n  const [categories, setCategories] = useState<ServiceCategory[]>([]);\n  const [servicesByCat, setServicesByCat] = useState<Record<string, string[]>>({});\n\n  useEffect(() => {\n    const fetchMenuData = async () => {\n        const { salonTypes, categories, servicesByCatId } = await MasterService.getNavMenuData();\n        setSalonTypes(salonTypes);\n        setCategories(categories);\n        setServicesByCat(servicesByCatId);\n    };\n    fetchMenuData();\n  }, []);\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-background\">\n      <header className=\"sticky top-0 z-50 flex items-center justify-between whitespace-nowrap border-b border-border bg-surface/90 backdrop-blur-md px-4 md:px-6 py-4 shadow-sm\">\n        <div className=\"flex items-center gap-4 shrink-0\">\n          <Link href=\"/\" className=\"flex items-center gap-2 group\">\n            <div className=\"size-10 flex items-center justify-center bg-primary rounded-full text-white shadow-lg shadow-primary/20 group-hover:scale-110 transition-transform\">\n              <span className=\"font-display font-bold text-xl\">G</span>\n            </div>\n            <h2 className=\"text-text-main text-2xl font-display font-bold leading-tight tracking-[-0.015em] hidden sm:block\">\n              Güzellik <span className=\"text-primary\">Randevu</span>\n            </h2>\n          </Link>\n        </div>\n        \n        {/* Central Navigation with Dynamic Dropdowns */}\n        <nav className=\"hidden lg:flex items-center gap-1 mx-4\">\n          \n          {/* 1. Salonlar Dropdown (Salon Types) */}\n          <div className=\"relative group px-3 py-3\">\n             <Link \n                href=\"/\"\n                className={`text-sm font-bold transition-colors flex items-center gap-1 group-hover:text-primary ${pathname === '/' ? 'text-primary' : 'text-text-secondary'}`}\n                suppressHydrationWarning\n              >\n                Salonlar\n                <span className=\"material-symbols-outlined text-[16px]\">expand_more</span>\n              </Link>\n              \n              <div className=\"absolute top-full left-0 mt-0 w-64 bg-surface border border-border rounded-xl shadow-soft opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-left overflow-hidden z-50 max-h-[80vh] overflow-y-auto\">\n                  <div className=\"py-2\">\n                      <Link href=\"/?type=all\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-primary hover:pl-5 transition-all font-bold\">Tüm Salonlar</Link>\n                      {salonTypes.map((type) => (\n                          <Link \n                            key={type.id} \n                            href={`/?type=${type.slug}`}\n                            className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-primary hover:pl-5 transition-all\"\n                          >\n                              {type.name}\n                          </Link>\n                      ))}\n                  </div>\n              </div>\n          </div>\n\n          {/* 2. Service Categories (Dynamic) */}\n          {categories.map((cat, index) => {\n              const services = servicesByCat[cat.id] || [];\n              const hasDropdown = services.length > 0;\n              \n              // Handle dropdown positioning for items on the right side of the screen\n              const isRightAligned = index > 3; \n\n              if (hasDropdown) {\n                  return (\n                    <div key={cat.id} className=\"relative group px-2 py-3\">\n                        <Link \n                            href={`/?search=${encodeURIComponent(cat.name)}`}\n                            className=\"text-sm font-medium text-text-secondary hover:text-primary transition-colors flex items-center gap-0.5\"\n                        >\n                            {cat.name}\n                            <span className=\"material-symbols-outlined text-[16px]\">expand_more</span>\n                        </Link>\n                        <div className={`absolute top-full mt-0 w-64 bg-surface border border-border rounded-xl shadow-soft opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform overflow-hidden z-50 max-h-[80vh] overflow-y-auto custom-scrollbar ${isRightAligned ? 'right-0 origin-top-right' : 'left-0 origin-top-left'}`}>\n                            <div className=\"py-2\">\n                                <Link href={`/?search=${encodeURIComponent(cat.name)}`} className=\"block px-4 py-2 text-sm font-bold text-text-main hover:bg-surface-alt hover:pl-5 transition-all border-b border-gray-100\">\n                                    Tüm {cat.name} Hizmetleri\n                                </Link>\n                                {services.map((serviceName, idx) => (\n                                    <Link \n                                        key={idx} \n                                        href={`/?search=${encodeURIComponent(serviceName)}`}\n                                        className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-primary hover:pl-5 transition-all\"\n                                    >\n                                        {serviceName}\n                                    </Link>\n                                ))}\n                            </div>\n                        </div>\n                    </div>\n                  );\n              }\n\n              // Simple Link for categories without services\n              return (\n                <Link \n                    key={cat.id} \n                    href={`/?search=${encodeURIComponent(cat.name)}`}\n                    className=\"px-2 py-3 text-sm font-medium text-text-secondary hover:text-primary transition-colors\"\n                >\n                    {cat.name}\n                </Link>\n              );\n          })}\n        </nav>\n        \n        <div className=\"flex flex-1 justify-end gap-3 items-center shrink-0\">\n           {!isBooking && isAdmin && (\n              <Link href=\"/admin\" className=\"hidden xl:flex items-center justify-center px-4 py-2 bg-text-main hover:bg-black text-white text-xs font-bold rounded-full shadow-lg transition-all hover:scale-105 whitespace-nowrap\">\n                Yönetim\n              </Link>\n           )}\n           {!isBooking && user?.role === 'staff' && !isAdmin && (\n              <Link href=\"/booking/1/staff\" className=\"hidden xl:flex items-center justify-center px-4 py-2 bg-primary hover:bg-primary-hover text-white text-xs font-bold rounded-full shadow-lg shadow-primary/20 transition-all hover:scale-105 whitespace-nowrap\">\n                İşletme Ekle\n              </Link>\n           )}\n            \n            {user ? (\n                <div className=\"flex items-center gap-2\">\n                    <span className=\"text-sm font-bold text-text-main hidden xl:block truncate max-w-[100px]\">{user.full_name}</span>\n                    <div className=\"group relative\">\n                        <div \n                          className=\"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-9 border-2 border-border cursor-pointer hover:border-primary transition-colors\" \n                          style={{ backgroundImage: `url(\"${user.avatar_url}\")` }}\n                        ></div>\n                        <div className=\"absolute right-0 top-full mt-2 w-48 bg-surface border border-border rounded-xl shadow-soft opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right z-50\">\n                             <div className=\"p-2\">\n                                 {isAdmin && <Link href=\"/admin\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-text-main rounded-lg font-bold\">Admin Paneli</Link>}\n                                 <Link href=\"/profile\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-text-main rounded-lg\">Profilim</Link>\n                                 <Link href=\"/bookings\" className=\"block px-4 py-2 text-sm text-text-secondary hover:bg-surface-alt hover:text-text-main rounded-lg\">Randevularım</Link>\n                                 <div className=\"h-px bg-border my-1\"></div>\n                                 <button onClick={signOut} className=\"w-full text-left px-4 py-2 text-sm text-red-500 hover:bg-surface-alt hover:text-red-600 rounded-lg\">Çıkış Yap</button>\n                             </div>\n                        </div>\n                    </div>\n                </div>\n            ) : (\n                <div className=\"flex items-center gap-3\">\n                  <Link href=\"/login\" className=\"text-text-secondary hover:text-primary transition-colors text-sm font-medium whitespace-nowrap hidden sm:block\">\n                      Giriş Yap\n                  </Link>\n                  <Link href=\"/login\" className=\"px-5 py-2 bg-primary hover:bg-primary-hover text-white text-sm font-bold rounded-full shadow-lg shadow-primary/20 transition-all hover:scale-105 hidden sm:block whitespace-nowrap\">\n                      Kayıt Ol\n                  </Link>\n                </div>\n            )}\n            \n            <div className=\"lg:hidden text-text-main cursor-pointer p-2 hover:bg-surface-alt rounded-full transition-colors\">\n              <span className=\"material-symbols-outlined\">menu</span>\n            </div>\n        </div>\n        \n      </header>\n\n      <main className=\"flex-1 flex flex-col w-full\">\n        {children}\n      </main>\n\n      <footer className=\"border-t border-border bg-white pt-16 pb-8 mt-auto\">\n        <div className=\"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12\">\n                <div className=\"col-span-1\">\n                    <div className=\"flex items-center gap-2 mb-6\">\n                        <div className=\"size-8 bg-primary rounded-full flex items-center justify-center text-white font-display text-lg font-bold\">G</div>\n                        <span className=\"font-display font-bold text-xl text-text-main\">Güzellik <span className=\"text-primary\">Randevu</span></span>\n                    </div>\n                    <p className=\"text-sm leading-relaxed text-text-secondary mb-6\">\n                        Türkiye'nin en kapsamlı kişisel bakım ve güzellik platformu. Randevunuzu kolayca alın, güzelliğinize güzellik katın.\n                    </p>\n                </div>\n                <div>\n                    <h4 className=\"text-text-main font-bold mb-6\">Hızlı Erişim</h4>\n                    <ul className=\"space-y-3 text-sm text-text-secondary\">\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Hakkımızda</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">İletişim</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Kariyer</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Blog</a></li>\n                    </ul>\n                </div>\n                <div>\n                    <h4 className=\"text-text-main font-bold mb-6\">Kategoriler</h4>\n                    <ul className=\"space-y-3 text-sm text-text-secondary\">\n                        {salonTypes.slice(0, 5).map(t => (\n                            <li key={t.id}><Link href={`/?type=${t.slug}`} className=\"hover:text-primary transition-colors\">{t.name}</Link></li>\n                        ))}\n                    </ul>\n                </div>\n                <div>\n                    <h4 className=\"text-text-main font-bold mb-6\">İşletmeler İçin</h4>\n                    <ul className=\"space-y-3 text-sm text-text-secondary\">\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">İşletme Ekle</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Yönetim Paneli</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Başarı Hikayeleri</a></li>\n                        <li><a href=\"#\" className=\"hover:text-primary transition-colors\">Destek</a></li>\n                    </ul>\n                </div>\n            </div>\n            <div className=\"border-t border-border pt-8 flex flex-col md:flex-row justify-between items-center text-xs text-text-muted\">\n              <p>© 2024 Güzellik Randevu. Tüm hakları saklıdır.</p>\n              <div className=\"flex gap-6 mt-4 md:mt-0\">\n                <a href=\"#\" className=\"hover:text-primary transition-colors\">Gizlilik Politikası</a>\n                <a href=\"#\" className=\"hover:text-primary transition-colors\">Kullanım Şartları</a>\n              </div>\n            </div>\n        </div>\n      </footer>\n    </div>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1170, "column": 0}, "map": {"version":3,"sources":["file:///D:/JAVA/projeler_2025/guzellik-randevu/guzellik-randevu-ui-main/app/login/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Layout } from '@/components/Layout';\nimport { useAuth } from '@/context/AuthContext';\nimport { useRouter } from 'next/navigation';\n\nexport default function Login() {\n    const { signInWithGoogle, signInWithEmail } = useAuth();\n    const router = useRouter();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState<string | null>(null);\n\n    const handleLogin = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError(null);\n        try {\n            await signInWithEmail(email, password);\n            router.push('/');\n        } catch (err) {\n            setError((err as Error).message);\n        }\n    };\n\n    return (\n        <Layout>\n            <div className=\"flex-1 flex items-center justify-center p-4\">\n                <div className=\"w-full max-w-md\">\n                    <div className=\"bg-white rounded-2xl border border-border shadow-card p-8\">\n                        <h2 className=\"text-2xl font-bold text-center text-text-main mb-2\">Giriş Yap</h2>\n                        <p className=\"text-center text-text-secondary mb-8\">Hesabınıza giriş yaparak randevularınızı yönetin.</p>\n\n                        <button onClick={signInWithGoogle} className=\"w-full h-12 flex items-center justify-center gap-3 border border-border rounded-lg hover:bg-gray-50 transition-colors font-bold text-text-main\">\n                            <img src=\"https://www.google.com/favicon.ico\" alt=\"Google\" className=\"size-5\" />\n                            Google ile Giriş Yap\n                        </button>\n\n                        <div className=\"flex items-center my-6\">\n                            <hr className=\"flex-grow border-t border-border\" />\n                            <span className=\"mx-4 text-xs text-text-muted\">VEYA</span>\n                            <hr className=\"flex-grow border-t border-border\" />\n                        </div>\n\n                        <form onSubmit={handleLogin} className=\"space-y-4\">\n                            <div>\n                                <label className=\"block text-sm font-bold text-text-main mb-2\">E-posta</label>\n                                <input type=\"email\" value={email} onChange={e => setEmail(e.target.value)} className=\"w-full h-11 px-4 rounded-lg border border-border bg-gray-50 focus:bg-white focus:border-primary outline-none\" />\n                            </div>\n                            <div>\n                                <label className=\"block text-sm font-bold text-text-main mb-2\">Şifre</label>\n                                <input type=\"password\" value={password} onChange={e => setPassword(e.target.value)} className=\"w-full h-11 px-4 rounded-lg border border-border bg-gray-50 focus:bg-white focus:border-primary outline-none\" />\n                            </div>\n                            {error && <p className=\"text-red-500 text-sm\">{error}</p>}\n                            <button type=\"submit\" className=\"w-full h-12 bg-primary text-white font-bold rounded-lg hover:bg-primary-hover transition-colors\">Giriş Yap</button>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </Layout>\n    );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,EAAE,gBAAgB,EAAE,eAAe,EAAE,GAAG,IAAA,kIAAO;IACrD,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,MAAM,cAAc,OAAO;QACvB,EAAE,cAAc;QAChB,SAAS;QACT,IAAI;YACA,MAAM,gBAAgB,OAAO;YAC7B,OAAO,IAAI,CAAC;QAChB,EAAE,OAAO,KAAK;YACV,SAAS,AAAC,IAAc,OAAO;QACnC;IACJ;IAEA,qBACI,8OAAC,+HAAM;kBACH,cAAA,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAG,WAAU;sCAAqD;;;;;;sCACnE,8OAAC;4BAAE,WAAU;sCAAuC;;;;;;sCAEpD,8OAAC;4BAAO,SAAS;4BAAkB,WAAU;;8CACzC,8OAAC;oCAAI,KAAI;oCAAqC,KAAI;oCAAS,WAAU;;;;;;gCAAW;;;;;;;sCAIpF,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAG,WAAU;;;;;;8CACd,8OAAC;oCAAK,WAAU;8CAA+B;;;;;;8CAC/C,8OAAC;oCAAG,WAAU;;;;;;;;;;;;sCAGlB,8OAAC;4BAAK,UAAU;4BAAa,WAAU;;8CACnC,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;sDAA8C;;;;;;sDAC/D,8OAAC;4CAAM,MAAK;4CAAQ,OAAO;4CAAO,UAAU,CAAA,IAAK,SAAS,EAAE,MAAM,CAAC,KAAK;4CAAG,WAAU;;;;;;;;;;;;8CAEzF,8OAAC;;sDACG,8OAAC;4CAAM,WAAU;sDAA8C;;;;;;sDAC/D,8OAAC;4CAAM,MAAK;4CAAW,OAAO;4CAAU,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;4CAAG,WAAU;;;;;;;;;;;;gCAEjG,uBAAS,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;8CAC/C,8OAAC;oCAAO,MAAK;oCAAS,WAAU;8CAAkG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9J"}}]
}