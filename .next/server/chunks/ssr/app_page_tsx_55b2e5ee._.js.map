{"version":3,"sources":["../../../../app/page.tsx"],"sourcesContent":["/// <reference lib=\"dom\" />\n'use client';\n\nimport React, { useState, useEffect, useRef, Suspense } from 'react';\nimport Link from 'next/link';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport dynamic from 'next/dynamic';\nimport { Layout } from '@/components/Layout';\nimport { GeminiChat } from '@/components/GeminiChat';\nimport { SalonDataService, MasterDataService, ServiceService } from '@/services/db';\nimport { SalonDetail, SalonType, GlobalService, City, District } from '@/types';\n\n// Helper: Default coordinates for major cities\nconst getCityCoordinates = (cityName: string): { lat: number; lng: number } | null => {\n    const cityCoords: Record<string, { lat: number; lng: number }> = {\n        \"İstanbul\": { lat: 41.0082, lng: 28.9784 },\n        \"Ankara\": { lat: 39.9208, lng: 32.8541 },\n        \"İzmir\": { lat: 38.4237, lng: 27.1428 },\n        \"Antalya\": { lat: 36.8969, lng: 30.7133 },\n        \"Bursa\": { lat: 40.1885, lng: 29.0610 },\n        \"Adana\": { lat: 37.0000, lng: 35.3213 },\n        \"Gaziantep\": { lat: 37.0662, lng: 37.3833 },\n        \"Konya\": { lat: 37.8667, lng: 32.4833 }\n    };\n    return cityCoords[cityName] || null;\n};\n\n// Dynamically import Map component with no SSR\nconst SalonMap = dynamic(\n  () => import('@/components/Map/SalonMap').then((mod) => mod.SalonMap),\n  {\n    ssr: false,\n    loading: () => (\n      <div className=\"h-full w-full flex items-center justify-center bg-gray-100\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-text-muted text-sm\">Harita yükleniyor...</p>\n        </div>\n      </div>\n    )\n  }\n);\n\ntype SearchTab = 'service' | 'type' | 'salon';\n\n// --- Helper: Turkish Character Normalization ---\nconst normalize = (text: string | undefined | null) => {\n    if (!text) return '';\n    return text.toLocaleLowerCase('tr').trim();\n};\n\n// --- Helper: Strict Coordinate Validation ---\nconst isValidLatLng = (lat: any, lng: any): boolean => {\n    const numLat = Number(lat);\n    const numLng = Number(lng);\n    return !isNaN(numLat) && !isNaN(numLng) && isFinite(numLat) && isFinite(numLng);\n};\n\n\n// --- Service Icon Helper ---\nconst getServiceIcon = (serviceName: string) => {\n    const lower = serviceName.toLowerCase();\n    if (lower.includes('saç') || lower.includes('fön') || lower.includes('kesim') || lower.includes('röfle') || lower.includes('ombre')) return 'content_cut';\n    if (lower.includes('tırnak') || lower.includes('oje') || lower.includes('manikür') || lower.includes('pedikür') || lower.includes('jel')) return 'brush';\n    if (lower.includes('makyaj') || lower.includes('kirpik') || lower.includes('kaş') || lower.includes('lifting')) return 'face';\n    if (lower.includes('masaj') || lower.includes('spa')) return 'spa';\n    if (lower.includes('cilt') || lower.includes('bakım') || lower.includes('peeling')) return 'clean_hands';\n    if (lower.includes('lazer') || lower.includes('epilasyon') || lower.includes('ağda')) return 'flash_on';\n    if (lower.includes('sakal') || lower.includes('tıraş')) return 'face_retouching_natural';\n    if (lower.includes('solaryum')) return 'light_mode';\n    if (lower.includes('diyet') || lower.includes('zayıflama')) return 'monitor_weight';\n    return 'star';\n};\n\nfunction HomePageContent() {\n  const router = useRouter();\n  const [salons, setSalons] = useState<SalonDetail[]>([]);\n  const [salonTypes, setSalonTypes] = useState<SalonType[]>([]);\n  const [globalServices, setGlobalServices] = useState<GlobalService[]>([]);\n  const [cities, setCities] = useState<City[]>([]);\n  const [districts, setDistricts] = useState<District[]>([]);\n  const [salonServicesMap, setSalonServicesMap] = useState<Record<string, string[]>>({});\n  const [loading, setLoading] = useState(true);\n  const searchParams = useSearchParams();\n\n  // Search Parameters from URL\n  const typeParam = searchParams.get('type');\n  const searchParam = searchParams.get('search');\n  const cityParam = searchParams.get('city');\n  const modeParam = searchParams.get('mode'); // 'service', 'type', 'salon'\n\n  // Mode Check\n  const isSearchMode = !!(typeParam || searchParam || cityParam);\n\n  // States\n  const [hoveredSalonId, setHoveredSalonId] = useState<string | null>(null);\n  const [visibleCount, setVisibleCount] = useState(5);\n\n  // Filter States (Initialized from URL)\n  const [localSearch, setLocalSearch] = useState(searchParam || '');\n  const [selectedCity, setSelectedCity] = useState(cityParam || 'İstanbul');\n  const [selectedDistrict, setSelectedDistrict] = useState('Tümü');\n\n  // Hero Search Tab State\n  const [activeTab, setActiveTab] = useState<SearchTab>('service');\n\n  // Autocomplete/Combobox States\n  const [suggestions, setSuggestions] = useState<{ type: 'salon' | 'service' | 'category', text: string, id?: string }[]>([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const searchWrapperRef = useRef<HTMLDivElement>(null);\n\n  // Data Loading\n  useEffect(() => {\n    const fetchData = async () => {\n        setLoading(true);\n        const [salonsData, typesData, servicesData, citiesData] = await Promise.all([\n          SalonDataService.getSalons(),\n          MasterDataService.getSalonTypes(),\n          MasterDataService.getAllGlobalServices(),\n          MasterDataService.getCities()\n        ]);\n\n        // Map database fields to display-friendly properties\n        const mappedData = salonsData.map(salon => ({\n          ...salon,\n          city: salon.city_name,\n          district: salon.district_name,\n          rating: salon.average_rating || 0,\n          tags: [salon.type_name], // Use type as a tag for now\n          startPrice: 100, // TODO: Get from salon_services minimum price\n          coordinates: {\n            lat: salon.geo_latitude || 0,\n            lng: salon.geo_longitude || 0\n          }\n        }));\n\n        setSalons(mappedData);\n        setSalonTypes(typesData);\n        setGlobalServices(servicesData);\n        setCities(citiesData);\n\n        // Load services for all salons to enable service-based search\n        const servicesMap: Record<string, string[]> = {};\n        await Promise.all(\n          salonsData.map(async (salon) => {\n            try {\n              const salonServices = await ServiceService.getServicesBySalon(salon.id);\n              servicesMap[salon.id] = salonServices.map(s => s.service_name);\n            } catch (error) {\n              console.error(`Error loading services for salon ${salon.id}:`, error);\n              servicesMap[salon.id] = [];\n            }\n          })\n        );\n        setSalonServicesMap(servicesMap);\n\n        setLoading(false);\n    };\n    fetchData();\n  }, []); // Run once on mount\n\n  // Sync URL params to State when URL changes (e.g. back button)\n  useEffect(() => {\n    if (searchParam !== null) setLocalSearch(searchParam);\n    if (cityParam !== null) setSelectedCity(cityParam);\n    // Note: We don't sync district from URL yet as it's not in the main query params typically, but could be added.\n  }, [searchParam, cityParam]);\n\n  // Load districts when city changes\n  useEffect(() => {\n    const loadDistricts = async () => {\n      if (selectedCity && selectedCity !== 'Tümü') {\n        const selectedCityData = cities.find(c => c.name === selectedCity);\n        if (selectedCityData) {\n          const districtsData = await MasterDataService.getDistrictsByCity(selectedCityData.id);\n          setDistricts(districtsData);\n        }\n      } else {\n        setDistricts([]);\n      }\n    };\n    loadDistricts();\n  }, [selectedCity, cities]);\n\n  // District Reset logic\n  const availableDistricts = districts.map(d => d.name);\n  useEffect(() => {\n    // Only reset if the current selected district is not in the new city's list\n    if (selectedCity !== 'Tümü' && selectedDistrict !== 'Tümü' && !availableDistricts.includes(selectedDistrict)) {\n        setSelectedDistrict('Tümü');\n    }\n  }, [selectedCity, availableDistricts, selectedDistrict]);\n\n  // --- Filtering Logic ---\n  const filteredSalons = salons.filter(salon => {\n    // 1. City Filter\n    if (selectedCity !== 'Tümü') {\n        const salonCity = normalize(salon.city_name);\n        const targetCity = normalize(selectedCity);\n        // Strict check for city (prevents \"Istanbul\" matching inside \"Istanbul yolu\")\n        const salonAddress = normalize(salon.address);\n        if (salonCity !== targetCity && !salonAddress.includes(targetCity)) return false;\n    }\n\n    // 2. District Filter\n    if (selectedDistrict !== 'Tümü') {\n        const salonDistrict = normalize(salon.district_name);\n        const targetDistrict = normalize(selectedDistrict);\n        // Use includes for address string fallback\n        const salonAddress = normalize(salon.address);\n        if (salonDistrict !== targetDistrict && !salonAddress.includes(targetDistrict)) return false;\n    }\n\n    // 3. Type/Category Filter (from URL)\n    if (typeParam && typeParam !== 'all') {\n        const typeSlug = normalize(typeParam);\n        const salonTypeSlug = normalize(salon.type_slug);\n        const salonTypeName = normalize(salon.type_name);\n\n        // Check if salon type matches the requested type\n        const isMatch = salonTypeSlug === typeSlug ||\n                       salonTypeName.includes(typeSlug) ||\n                       (typeSlug === 'kuafor' && salonTypeName.includes('kuaför')) ||\n                       (typeSlug === 'sac' && salonTypeName.includes('saç'));\n\n        if (!isMatch) return false;\n    }\n\n    // 4. Search Term Filter (Context Aware)\n    if (localSearch) {\n        const term = normalize(localSearch);\n\n        // Use modeParam to be specific if provided\n        if (modeParam === 'salon') {\n             // Strict Name Search\n             if (!normalize(salon.name).includes(term)) return false;\n        } else if (modeParam === 'type' || modeParam === 'service') {\n             // Type/Category/Service Search - check type_name and actual services\n             const matchesType = normalize(salon.type_name).includes(term);\n             const matchesAddress = normalize(salon.address).includes(term);\n\n             // Check if any of the salon's services match\n             const salonServices = salonServicesMap[salon.id] || [];\n             const matchesService = salonServices.some(serviceName =>\n               normalize(serviceName).includes(term)\n             );\n\n             if (!matchesType && !matchesAddress && !matchesService) return false;\n        } else {\n             // Generic Fallback (Name OR Type OR Address OR Services)\n             const matchesName = normalize(salon.name).includes(term);\n             const matchesType = normalize(salon.type_name).includes(term);\n             const matchesAddress = normalize(salon.address).includes(term);\n\n             // Check if any of the salon's services match\n             const salonServices = salonServicesMap[salon.id] || [];\n             const matchesService = salonServices.some(serviceName =>\n               normalize(serviceName).includes(term)\n             );\n\n             if (!matchesName && !matchesType && !matchesAddress && !matchesService) return false;\n        }\n    }\n    return true;\n  });\n\n  const visibleSalons = filteredSalons.slice(0, visibleCount);\n  const handleLoadMore = () => setVisibleCount(prev => prev + 5);\n\n  // Popular Services List - Use real data from database\n  const popularServices = Array.from(new Set(globalServices.map(s => s.name))).sort().slice(0, 30);\n\n  // --- Safe Map Center Calculation ---\n  const defaultCenter = { lat: 41.0082, lng: 28.9784 }; // Istanbul\n\n  // Get city coordinates using helper function\n  const ISTANBUL_KEY = \"İstanbul\";\n  const istanbulCoords = getCityCoordinates(ISTANBUL_KEY) || defaultCenter;\n\n  const targetCityCoords = getCityCoordinates(selectedCity);\n  // If we have filtered salons, try to center on the first one\n  const firstSalon = filteredSalons.length > 0 ? filteredSalons[0] : null;\n  const firstSalonCoords = firstSalon && firstSalon.geo_latitude && firstSalon.geo_longitude\n    ? { lat: firstSalon.geo_latitude, lng: firstSalon.geo_longitude }\n    : null;\n\n  const mapCenterRaw = firstSalonCoords || targetCityCoords || istanbulCoords;\n\n  // Robust conversion to numbers and check validity\n  const finalLat = isValidLatLng(mapCenterRaw?.lat, mapCenterRaw?.lng) ? Number(mapCenterRaw.lat) : defaultCenter.lat;\n  const finalLng = isValidLatLng(mapCenterRaw?.lat, mapCenterRaw?.lng) ? Number(mapCenterRaw.lng) : defaultCenter.lng;\n\n  const safeMapCenter = {\n      lat: finalLat,\n      lng: finalLng\n  };\n\n  // --- Combobox / Autocomplete Logic ---\n  const handleSearchChange = (val: string) => {\n      setLocalSearch(val);\n      if (val.length < 2) {\n          setSuggestions([]);\n          setShowSuggestions(false);\n          return;\n      }\n\n      const term = normalize(val);\n      const newSuggestions: typeof suggestions = [];\n\n      // Filter logic based on Active Tab\n\n      // 1. Salons (Only if tab is Salon or Generic)\n      if (activeTab === 'salon') {\n          salons.forEach(s => {\n              if (normalize(s.name).includes(term)) {\n                  newSuggestions.push({ type: 'salon', text: s.name, id: s.id });\n              }\n          });\n      }\n\n      // 2. Categories (Only if tab is Type or Generic)\n      if (activeTab === 'type') {\n          salonTypes.forEach(t => {\n              if (normalize(t.name).includes(term)) {\n                  newSuggestions.push({ type: 'category', text: t.name, id: t.slug }); // Pass slug for filtering\n              }\n          });\n      }\n\n      // 3. Services (Only if tab is Service or Generic)\n      if (activeTab === 'service') {\n          // Get all unique services from global services\n          const globalServiceNames = globalServices\n            .filter(s => normalize(s.name).includes(term))\n            .map(s => s.name);\n\n          // Get all unique services from actual salon services\n          const allSalonServices = Object.values(salonServicesMap).flat();\n          const salonServiceNames = allSalonServices\n            .filter(s => normalize(s).includes(term));\n\n          // Combine and deduplicate\n          const matchedServices = Array.from(new Set([...globalServiceNames, ...salonServiceNames])).slice(0, 10);\n\n          matchedServices.forEach(s => {\n              newSuggestions.push({ type: 'service', text: s });\n          });\n      }\n\n      setSuggestions(newSuggestions);\n      setShowSuggestions(true);\n  };\n\n  const handleSuggestionSelect = (item: typeof suggestions[0]) => {\n      setLocalSearch(item.text);\n      setShowSuggestions(false);\n\n      // Direct Navigation for Salons\n      if (item.type === 'salon' && item.id) {\n          router.push(`/salon/${item.id}`);\n          return;\n      }\n\n      // Filter Navigation for Categories\n      if (item.type === 'category' && item.id) {\n          // item.id here holds the slug because we passed it in handleSearchChange\n          let query = `/?type=${item.id}`;\n          if (selectedCity !== 'Tümü') query += `&city=${selectedCity}`;\n          router.push(query);\n          return;\n      }\n\n      // Search Navigation for Services\n      let query = `/?search=${encodeURIComponent(item.text)}`;\n      if (selectedCity !== 'Tümü') query += `&city=${selectedCity}`;\n      query += `&mode=service`;\n\n      router.push(query);\n  };\n\n  const executeSearch = () => {\n      let query = `/?search=${encodeURIComponent(localSearch)}`;\n      if (selectedCity && selectedCity !== 'Tümü') {\n          query += `&city=${selectedCity}`;\n      }\n      // Pass the active tab as mode to refine results\n      query += `&mode=${activeTab}`;\n      router.push(query);\n      setShowSuggestions(false);\n  };\n\n  // Close suggestions on click outside\n  useEffect(() => {\n      const handleClickOutside = (event: MouseEvent) => {\n          if (searchWrapperRef.current && event.target instanceof Node && !searchWrapperRef.current.contains(event.target)) {\n              setShowSuggestions(false);\n          }\n      };\n      if (typeof window !== 'undefined') {\n          document.addEventListener('mousedown', handleClickOutside);\n          return () => document.removeEventListener('mousedown', handleClickOutside);\n      }\n  }, []);\n\n\n  // --- VIEW 1: SEARCH & LISTING (PROFESSIONAL SPLIT VIEW) ---\n  if (isSearchMode) {\n      return (\n          <Layout>\n              {/* Fixed Layout Container: Header is handled by Layout, we handle the rest full height */}\n              <div className=\"flex flex-col lg:flex-row h-[calc(100vh-80px)] overflow-hidden bg-background\">\n\n                  {/* Left Side: Scrollable List */}\n                  <div className=\"w-full lg:w-[500px] xl:w-[550px] flex flex-col border-r border-border bg-white shadow-xl z-20 shrink-0 h-full\">\n\n                      {/* Filter Header */}\n                      <div className=\"p-5 border-b border-border bg-white sticky top-0 z-10 shadow-sm\">\n                          <div className=\"relative mb-3\" ref={searchWrapperRef}>\n                              <span className=\"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-primary\">search</span>\n                              <input\n                                  type=\"text\"\n                                  value={localSearch}\n                                  onChange={(e) => handleSearchChange((e.target as HTMLInputElement).value)}\n                                  onFocus={() => localSearch.length >= 2 && setShowSuggestions(true)}\n                                  placeholder=\"Salon, hizmet veya bölge ara...\"\n                                  className=\"w-full bg-gray-50 border border-gray-200 rounded-xl py-3 pl-10 pr-4 text-text-main placeholder-text-muted focus:border-primary focus:ring-1 focus:ring-primary text-sm transition-all\"\n                                  onKeyDown={(e) => e.key === 'Enter' && executeSearch()}\n                              />\n                               {/* Sidebar Suggestions Dropdown */}\n                               {showSuggestions && suggestions.length > 0 && (\n                                  <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-border rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto\">\n                                      {suggestions.map((item, idx) => (\n                                          <div\n                                              key={idx}\n                                              onClick={() => handleSuggestionSelect(item)}\n                                              className=\"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-50 last:border-0 flex items-center gap-3\"\n                                          >\n                                              <span className=\"material-symbols-outlined text-gray-400 text-lg\">\n                                                  {item.type === 'salon' ? 'store' : item.type === 'service' ? 'spa' : 'category'}\n                                              </span>\n                                              <span className=\"text-sm text-text-main\">{item.text}</span>\n                                              {item.type === 'salon' && <span className=\"ml-auto text-[10px] bg-gray-100 px-2 py-0.5 rounded text-gray-500\">Salon</span>}\n                                          </div>\n                                      ))}\n                                  </div>\n                              )}\n                          </div>\n                          <div className=\"grid grid-cols-2 gap-2\">\n                              <div className=\"relative\">\n                                  <select\n                                      value={selectedCity}\n                                      onChange={(e) => setSelectedCity((e.target as HTMLSelectElement).value)}\n                                      className=\"w-full bg-white border border-gray-200 rounded-lg py-2.5 pl-3 pr-8 text-text-main text-xs font-medium appearance-none cursor-pointer focus:border-primary focus:ring-1 focus:ring-primary\"\n                                  >\n                                      <option value=\"Tümü\">Tüm Şehirler</option>\n                                      {cities.map(c => <option key={c.id} value={c.name}>{c.name}</option>)}\n                                  </select>\n                                  <span className=\"material-symbols-outlined absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none\">expand_more</span>\n                              </div>\n                              <div className=\"relative\">\n                                  <select\n                                      value={selectedDistrict}\n                                      disabled={selectedCity === 'Tümü'}\n                                      onChange={(e) => setSelectedDistrict((e.target as HTMLSelectElement).value)}\n                                      className=\"w-full bg-white border border-gray-200 rounded-lg py-2.5 pl-3 pr-8 text-text-main text-xs font-medium appearance-none cursor-pointer focus:border-primary focus:ring-1 focus:ring-primary disabled:bg-gray-50 disabled:text-gray-400\"\n                                  >\n                                      <option value=\"Tümü\">Tüm İlçeler</option>\n                                      {districts.map(d => <option key={d.id} value={d.name}>{d.name}</option>)}\n                                  </select>\n                                  <span className=\"material-symbols-outlined absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 text-xs pointer-events-none\">expand_more</span>\n                              </div>\n                          </div>\n                          <div className=\"flex justify-between items-center mt-3 pt-3 border-t border-gray-50\">\n                              <span className=\"text-xs font-bold text-text-main\">{filteredSalons.length} işletme bulundu</span>\n                              <Link href=\"/\" onClick={() => { setLocalSearch(''); setSelectedCity('Tümü'); }} className=\"text-xs text-primary font-bold hover:underline\">Temizle & Çık</Link>\n                          </div>\n                      </div>\n\n                      {/* Salon List */}\n                      <div className=\"flex-1 overflow-y-auto custom-scrollbar p-5 space-y-5 bg-gray-50/50\">\n                          {loading ? (\n                              <div className=\"space-y-4\">\n                                  {[1,2,3,4].map(i => <div key={i} className=\"h-40 bg-white animate-pulse rounded-2xl border border-gray-100\"></div>)}\n                              </div>\n                          ) : (\n                              <>\n                                  {visibleSalons.map(salon => (\n                                      <Link\n                                          href={`/salon/${salon.id}`}\n                                          key={salon.id}\n                                          onMouseEnter={() => setHoveredSalonId(salon.id)}\n                                          onMouseLeave={() => setHoveredSalonId(null)}\n                                          className={`group bg-white rounded-2xl border p-4 flex gap-4 transition-all duration-300 cursor-pointer shadow-sm hover:shadow-lg ${hoveredSalonId === salon.id ? 'border-primary ring-1 ring-primary' : 'border-gray-200 hover:border-primary/30'}`}\n                                      >\n                                          <div className=\"relative w-32 h-32 shrink-0 rounded-xl overflow-hidden bg-gray-100\">\n                                              <img src={salon.image} alt={salon.name} className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110\" />\n                                              {salon.is_sponsored && <div className=\"absolute top-2 left-2 bg-white/90 backdrop-blur-sm text-primary text-[9px] font-black px-2 py-1 rounded-md uppercase tracking-wider shadow-sm\">Öne Çıkan</div>}\n                                          </div>\n\n                                          <div className=\"flex-1 min-w-0 flex flex-col justify-between\">\n                                              <div>\n                                                  <div className=\"flex justify-between items-start gap-2\">\n                                                      <h3 className=\"font-display font-bold text-text-main text-lg leading-tight truncate group-hover:text-primary transition-colors\">{salon.name}</h3>\n                                                      <div className=\"flex items-center gap-1 bg-gray-50 px-1.5 py-0.5 rounded text-xs font-bold text-text-main border border-gray-100 shrink-0\">\n                                                          <span className=\"material-symbols-outlined text-[14px] filled text-yellow-400\">star</span> {salon.rating}\n                                                      </div>\n                                                  </div>\n                                                  <p className=\"text-xs text-text-secondary mt-1 truncate flex items-center gap-1\">\n                                                      {salon.district}, {salon.city}\n                                                  </p>\n\n                                                  <div className=\"flex flex-wrap gap-1.5 mt-3\">\n                                                      {salon.tags && salon.tags.slice(0, 2).map(tag => (\n                                                          <span key={tag} className=\"text-[10px] text-text-secondary bg-gray-100 px-2 py-1 rounded-md font-medium\">{tag}</span>\n                                                      ))}\n                                                      {salon.tags && salon.tags.length > 2 && <span className=\"text-[10px] text-text-muted bg-gray-50 px-2 py-1 rounded-md\">+ {salon.tags.length - 2}</span>}\n                                                  </div>\n                                              </div>\n\n                                              <div className=\"flex justify-between items-end mt-2 pt-2 border-t border-gray-50\">\n                                                  <div className=\"flex flex-col\">\n                                                      <span className=\"text-[10px] text-text-muted font-bold uppercase\">Başlangıç</span>\n                                                      <span className=\"text-primary font-bold text-base\">{salon.startPrice} ₺</span>\n                                                  </div>\n                                                  <span className=\"text-xs font-bold text-text-secondary group-hover:text-primary transition-colors flex items-center gap-1\">\n                                                      İncele <span className=\"material-symbols-outlined text-sm\">arrow_forward</span>\n                                                  </span>\n                                              </div>\n                                          </div>\n                                      </Link>\n                                  ))}\n\n                                  {filteredSalons.length > visibleCount && (\n                                      <button\n                                          onClick={handleLoadMore}\n                                          className=\"w-full py-4 text-sm font-bold text-text-main border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors bg-white shadow-sm flex items-center justify-center gap-2\"\n                                      >\n                                          Daha Fazla Göster <span className=\"material-symbols-outlined text-lg\">expand_more</span>\n                                      </button>\n                                  )}\n\n                                  {filteredSalons.length === 0 && (\n                                      <div className=\"flex flex-col items-center justify-center py-20 text-text-muted\">\n                                          <div className=\"bg-gray-100 p-4 rounded-full mb-4\">\n                                              <span className=\"material-symbols-outlined text-4xl opacity-50\">store_off</span>\n                                          </div>\n                                          <p className=\"font-bold text-text-main\">Sonuç bulunamadı</p>\n                                          <p className=\"text-sm mt-1\">Arama kriterlerinizi değiştirerek tekrar deneyin.</p>\n                                          <button onClick={() => { setLocalSearch(''); setSelectedCity('Tümü'); setSelectedDistrict('Tümü'); }} className=\"mt-4 text-primary text-sm font-bold hover:underline\">Filtreleri Temizle</button>\n                                      </div>\n                                  )}\n                              </>\n                          )}\n                      </div>\n                  </div>\n\n                  {/* Right Side: Map (Hidden on mobile initially, visible on desktop) */}\n                  <div className=\"hidden lg:block flex-1 relative bg-gray-100 h-full z-0\">\n                       <SalonMap\n                           center={safeMapCenter}\n                           salons={filteredSalons}\n                           hoveredSalonId={hoveredSalonId}\n                           onSalonHover={setHoveredSalonId}\n                       />\n\n                       {/* Floating Map Controls */}\n                       <div className=\"absolute bottom-8 right-8 flex flex-col gap-2 z-[400]\">\n                           <button className=\"size-10 bg-white rounded-xl shadow-lg flex items-center justify-center text-gray-600 hover:text-primary transition-colors border border-gray-100\" onClick={() => {}} title=\"Konumum\">\n                               <span className=\"material-symbols-outlined\">my_location</span>\n                           </button>\n                       </div>\n                  </div>\n              </div>\n              <GeminiChat />\n          </Layout>\n      );\n  }\n\n  // --- VIEW 2: LANDING PAGE ---\n\n  return (\n    <Layout>\n      {/* Hero Section */}\n      <div className=\"relative bg-gray-900 overflow-visible min-h-[550px] lg:min-h-[650px] flex items-center justify-center z-10\">\n        {/* Background Image with Overlay */}\n        <div className=\"absolute inset-0 z-0\">\n          <img\n            alt=\"Luxury Salon Background\"\n            className=\"w-full h-full object-cover opacity-60\"\n            src=\"https://images.unsplash.com/photo-1633681926022-2292608933c0?q=80&w=2000&auto=format&fit=crop\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-b from-black/70 via-black/40 to-black/80\"></div>\n        </div>\n\n        <div className=\"relative z-10 w-full max-w-5xl mx-auto px-4 sm:px-6 flex flex-col items-center text-center mt-10\">\n          <span className=\"inline-block py-1 px-3 rounded-full bg-white/10 border border-white/20 text-white text-xs font-bold tracking-wider uppercase mb-6 backdrop-blur-md\">\n              Türkiye'nin #1 Numaralı Platformu\n          </span>\n          <h1 className=\"text-4xl sm:text-5xl lg:text-7xl font-display font-black text-white mb-6 leading-tight drop-shadow-2xl\">\n              Güzelliğin <br/><span className=\"text-transparent bg-clip-text bg-gradient-to-r from-primary via-yellow-200 to-primary\">Yeni Adresi</span>\n          </h1>\n          <p className=\"text-lg text-gray-300 mb-10 max-w-2xl font-medium drop-shadow-md leading-relaxed\">\n             Size en yakın kuaför, berber ve güzellik merkezlerini keşfedin, fiyatları karşılaştırın ve saniyeler içinde randevunuzu oluşturun.\n          </p>\n\n          {/* New Tabbed Search Bar Box */}\n          <div className=\"w-full max-w-4xl bg-white rounded-xl shadow-2xl p-2 mx-auto border border-white/20 backdrop-blur-sm relative z-50 animate-fade-in-up\">\n\n              {/* Tabs */}\n              <div className=\"flex border-b border-gray-100 mb-2 px-2\">\n                <button\n                    onClick={() => { setActiveTab('service'); setLocalSearch(''); setSuggestions([]); }}\n                    className={`px-4 py-3 text-sm font-bold transition-all border-b-2 outline-none ${activeTab === 'service' ? 'text-primary border-primary' : 'text-text-secondary border-transparent hover:text-primary'}`}\n                >\n                    Hizmet\n                </button>\n                <button\n                    onClick={() => { setActiveTab('type'); setLocalSearch(''); setSuggestions([]); }}\n                    className={`px-4 py-3 text-sm font-bold transition-all border-b-2 outline-none ${activeTab === 'type' ? 'text-primary border-primary' : 'text-text-secondary border-transparent hover:text-primary'}`}\n                >\n                    Salon Türü\n                </button>\n                <button\n                    onClick={() => { setActiveTab('salon'); setLocalSearch(''); setSuggestions([]); }}\n                    className={`px-4 py-3 text-sm font-bold transition-all border-b-2 outline-none ${activeTab === 'salon' ? 'text-primary border-primary' : 'text-text-secondary border-transparent hover:text-primary'}`}\n                >\n                    Salon Adı\n                </button>\n              </div>\n\n              {/* Inputs */}\n              <div className=\"flex flex-col md:flex-row gap-2 p-2\">\n                 {/* Combobox Search Input */}\n                 <div className=\"flex-grow relative group\" ref={searchWrapperRef}>\n                     <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400\">\n                         <span className=\"material-symbols-outlined\">search</span>\n                     </div>\n                     <input\n                        type=\"text\"\n                        className=\"block w-full pl-10 pr-3 py-3 border border-gray-200 rounded-lg leading-5 bg-gray-50 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary sm:text-sm font-medium transition-shadow\"\n                        placeholder={\n                            activeTab === 'service' ? 'Hizmet ara (örn. Saç Kesimi, Manikür)...' :\n                            activeTab === 'type' ? 'Salon türü ara (örn. Kuaför, Berber)...' :\n                            'Salon adı ile ara...'\n                        }\n                        value={localSearch}\n                        onChange={(e) => handleSearchChange((e.target as HTMLInputElement).value)}\n                        onFocus={() => localSearch.length >= 2 && setShowSuggestions(true)}\n                        onKeyDown={(e) => e.key === 'Enter' && executeSearch()}\n                     />\n\n                     {/* Suggestions Dropdown (Landing Page) */}\n                     {showSuggestions && suggestions.length > 0 && (\n                         <div className=\"absolute top-full left-0 right-0 mt-2 bg-white border border-border rounded-xl shadow-xl z-[100] max-h-80 overflow-y-auto\">\n                            <div className=\"p-2 border-b border-gray-50 text-[10px] text-gray-400 font-bold uppercase tracking-wider pl-4\">Önerilenler</div>\n                            {suggestions.map((item, idx) => (\n                                <div\n                                    key={idx}\n                                    onClick={() => handleSuggestionSelect(item)}\n                                    className=\"px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-50 last:border-0 flex items-center gap-3\"\n                                >\n                                    <div className=\"size-8 rounded-full bg-gray-100 flex items-center justify-center shrink-0\">\n                                         <span className=\"material-symbols-outlined text-gray-500 text-sm\">\n                                            {item.type === 'salon' ? 'store' : item.type === 'service' ? 'spa' : 'category'}\n                                         </span>\n                                    </div>\n                                    <div className=\"flex flex-col text-left\">\n                                        <span className=\"text-sm font-bold text-text-main\">{item.text}</span>\n                                        {item.type === 'salon' && <span className=\"text-[10px] text-gray-500\">Salon</span>}\n                                        {item.type === 'category' && <span className=\"text-[10px] text-gray-500\">Kategori</span>}\n                                    </div>\n                                    <span className=\"ml-auto material-symbols-outlined text-gray-300 text-lg -rotate-45\">arrow_forward</span>\n                                </div>\n                            ))}\n                        </div>\n                     )}\n                 </div>\n\n                 <div className=\"w-full md:w-1/3 relative\">\n                     <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400\">\n                         <span className=\"material-symbols-outlined\">location_on</span>\n                     </div>\n                     <select\n                        className=\"block w-full pl-10 pr-8 py-3 border border-gray-200 rounded-lg leading-5 bg-gray-50 text-text-main focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary sm:text-sm appearance-none cursor-pointer font-medium\"\n                        value={selectedCity}\n                        onChange={(e) => setSelectedCity((e.target as HTMLSelectElement).value)}\n                     >\n                        <option value=\"Tümü\">Tüm Şehirler</option>\n                        {cities.map(city => <option key={city.id} value={city.name}>{city.name}</option>)}\n                    </select>\n                    <div className=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n                        <span className=\"material-symbols-outlined text-gray-400 text-sm\">expand_more</span>\n                    </div>\n                 </div>\n\n                 <button\n                    onClick={executeSearch}\n                    className=\"w-full md:w-auto bg-primary hover:bg-primary-hover text-white px-8 py-3 rounded-lg font-bold shadow-lg shadow-primary/30 transition-all flex items-center justify-center gap-2 shrink-0\"\n                 >\n                     Ara\n                 </button>\n              </div>\n\n              {/* Footer / Tags */}\n              <div className=\"px-4 py-2 flex items-center justify-start gap-2 text-xs text-text-secondary border-t border-gray-50 mt-1 pt-3\">\n                  <button className=\"flex items-center gap-1 hover:text-primary transition-colors font-medium\" onClick={() => {}}>\n                      <span className=\"material-symbols-outlined text-sm\">my_location</span>\n                      Yakınımda Ara\n                  </button>\n                  <span className=\"mx-2 opacity-30\">|</span>\n                  <span className=\"hidden sm:inline opacity-70\">Popüler: </span>\n                  {salonTypes.slice(0, 3).map(type => (\n                       <Link key={type.id} href={`/?type=${type.slug}`} className=\"hover:text-primary hover:underline font-medium\">{type.name}</Link>\n                  ))}\n              </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Featured Salons - Compact Cards (MOVED UP) */}\n      <div className=\"bg-white py-20 relative z-0\">\n           <div className=\"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8\">\n               <div className=\"flex justify-between items-end mb-10\">\n                   <div>\n                       <h2 className=\"text-3xl font-display font-bold text-text-main mb-2\">Öne Çıkan Salonlar</h2>\n                       <p className=\"text-text-secondary\">Editörlerimizin sizin için seçtiği en iyi mekanlar.</p>\n                   </div>\n               </div>\n\n               <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8\">\n                    {salons.slice(0, 4).map((salon) => (\n                        <Link href={`/salon/${salon.id}`} key={salon.id} className=\"group bg-white rounded-2xl overflow-hidden border border-gray-100 hover:border-gray-300 hover:shadow-xl transition-all duration-300 flex flex-col h-full\">\n                            <div className=\"relative overflow-hidden aspect-[4/3]\">\n                                <img alt={salon.name} className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\" src={salon.image} />\n                                <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\n                                {salon.is_sponsored && (\n                                    <div className=\"absolute top-3 left-3 bg-white text-text-main text-[10px] uppercase tracking-wider font-bold px-2 py-1 rounded shadow-sm\">Sponsorlu</div>\n                                )}\n                                <div className=\"absolute top-3 right-3 p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-white hover:text-red-500 transition-colors\">\n                                    <span className=\"material-symbols-outlined text-sm block\">favorite</span>\n                                </div>\n                                <div className=\"absolute bottom-3 left-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 translate-y-2 group-hover:translate-y-0\">\n                                    <span className=\"w-full block bg-white text-text-main text-center py-2 rounded-lg font-bold text-sm shadow-lg\">Randevu Al</span>\n                                </div>\n                            </div>\n\n                            <div className=\"p-5 flex flex-col justify-between flex-1\">\n                                <div>\n                                    <div className=\"flex justify-between items-start mb-1\">\n                                        <h3 className=\"text-lg font-display font-bold text-text-main leading-tight group-hover:text-primary transition-colors\">{salon.name}</h3>\n                                        <div className=\"flex items-center bg-green-50 px-1.5 py-0.5 rounded text-green-700 text-xs font-bold shrink-0 ml-2 border border-green-100\">\n                                            {salon.rating || '5.0'}\n                                            <span className=\"material-symbols-outlined text-[10px] ml-0.5 filled\">star</span>\n                                        </div>\n                                    </div>\n                                    <p className=\"text-xs text-text-secondary mb-3 flex items-center truncate\">\n                                        <span className=\"material-symbols-outlined text-sm mr-1 text-gray-400\">location_on</span>\n                                        {salon.district}, {salon.city}\n                                    </p>\n                                    <div className=\"flex gap-1 mb-4 overflow-hidden\">\n                                        {salon.tags && salon.tags.slice(0, 3).map(t => (\n                                            <span key={t} className=\"text-[10px] text-gray-500 bg-gray-100 px-2 py-0.5 rounded-md whitespace-nowrap\">{t}</span>\n                                        ))}\n                                    </div>\n                                </div>\n\n                                <div className=\"border-t border-gray-100 pt-3 flex items-center justify-between\">\n                                    <span className=\"text-xs text-text-muted font-medium\">Başlangıç</span>\n                                    <span className=\"text-lg font-bold text-primary\">{salon.startPrice} ₺</span>\n                                </div>\n                            </div>\n                        </Link>\n                    ))}\n               </div>\n           </div>\n      </div>\n\n      {/* Popular Categories Section - Grid Alignment (Background changed to gray) */}\n      <div className=\"bg-gray-50 py-20 border-y border-gray-200\">\n         <div className=\"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex justify-between items-end mb-10\">\n                <div>\n                    <h2 className=\"text-3xl font-display font-bold text-text-main\">Popüler Kategoriler</h2>\n                    <p className=\"text-text-secondary mt-2\">İhtiyacınıza uygun uzmanı kategorilere göre bulun.</p>\n                </div>\n                <Link href=\"/?type=all\" className=\"hidden sm:flex items-center text-primary font-bold text-sm hover:underline gap-1\">\n                    Tümünü Gör <span className=\"material-symbols-outlined text-sm\">arrow_forward</span>\n                </Link>\n            </div>\n\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n                {salonTypes.slice(0, 8).map((type) => (\n                    <Link href={`/?type=${type.slug}`} key={type.id} className=\"group relative aspect-[4/3] rounded-2xl overflow-hidden cursor-pointer shadow-md hover:shadow-2xl transition-all duration-500 bg-white\">\n                        {/* Background Image */}\n                        <div\n                           className=\"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110\"\n                           style={{ backgroundImage: `url(\"${type.image || 'https://images.unsplash.com/photo-1560066984-138dadb4c035?w=600'}\")` }}\n                        ></div>\n\n                        {/* Gradient Overlay - Better Readability */}\n                        <div className=\"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent opacity-80 group-hover:opacity-90 transition-opacity duration-300\"></div>\n\n                        {/* Content */}\n                        <div className=\"absolute inset-0 p-6 flex flex-col justify-end items-start z-10\">\n                            <h3 className=\"text-xl lg:text-2xl font-bold text-white mb-1 transform group-hover:-translate-y-1 transition-transform duration-300\">{type.name}</h3>\n                            <div className=\"h-0 group-hover:h-auto opacity-0 group-hover:opacity-100 overflow-hidden transition-all duration-300\">\n                                <span className=\"text-xs font-bold text-primary flex items-center gap-1 uppercase tracking-wide\">\n                                    Keşfet <span className=\"material-symbols-outlined text-sm\">arrow_right_alt</span>\n                                </span>\n                            </div>\n                        </div>\n                    </Link>\n                ))}\n            </div>\n         </div>\n      </div>\n\n      {/* Popular Services Section - Clean List Layout (MOVED TO BOTTOM, Background White) */}\n      <div className=\"bg-white py-20\">\n          <div className=\"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8\">\n              <div className=\"text-center mb-12\">\n                  <span className=\"text-primary font-bold tracking-wider text-xs uppercase mb-2 block\">Hizmetlerimiz</span>\n                  <h2 className=\"text-3xl lg:text-4xl font-display font-bold text-text-main\">\n                      Popüler Hizmetler\n                  </h2>\n                  <div className=\"h-1 w-16 bg-primary mx-auto mt-4 rounded-full\"></div>\n              </div>\n\n              {/* The \"Clean List\" Grid */}\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\n                  {popularServices.map((service, idx) => (\n                      <Link\n                        key={idx}\n                        href={`/?search=${encodeURIComponent(service)}&mode=service`}\n                        className=\"flex items-center gap-3 p-4 bg-white rounded-xl border border-gray-200 hover:border-primary hover:shadow-md transition-all group\"\n                      >\n                          <div className=\"size-10 rounded-lg bg-gray-50 text-gray-400 flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors shrink-0\">\n                              <span className=\"material-symbols-outlined text-xl\">{getServiceIcon(service)}</span>\n                          </div>\n                          <span className=\"text-text-secondary font-semibold text-sm group-hover:text-text-main transition-colors truncate\">{service}</span>\n                      </Link>\n                  ))}\n              </div>\n\n              <div className=\"mt-10 text-center\">\n                  <Link href=\"/?type=all\" className=\"inline-flex items-center justify-center px-8 py-3 border border-gray-300 shadow-sm text-sm font-bold rounded-xl text-text-secondary bg-white hover:bg-gray-50 transition-all\">\n                      Tüm Hizmetleri Görüntüle\n                  </Link>\n              </div>\n          </div>\n      </div>\n\n      <GeminiChat />\n    </Layout>\n  );\n}\n\n// Wrap with Suspense to handle useSearchParams\nexport default function HomePage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen flex items-center justify-center bg-background\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-text-muted text-lg\">Yükleniyor...</p>\n        </div>\n      </div>\n    }>\n      <HomePageContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":"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"}