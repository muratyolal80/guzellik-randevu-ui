module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},55961,a=>{"use strict";var b=a.i(87924),c=a.i(38246);a.s(["BookingSummary",0,({salon:a,staff:d,services:e,totalPrice:f,totalDuration:g,step:h})=>(0,b.jsx)("div",{className:"w-full lg:w-80 shrink-0",children:(0,b.jsxs)("div",{className:"sticky top-24 flex flex-col gap-4",children:[h>=2&&(0,b.jsx)("div",{className:"rounded-xl bg-white border border-border overflow-hidden shadow-md mb-2",children:(0,b.jsxs)("div",{className:"h-32 w-full bg-cover bg-center relative",style:{backgroundImage:`url("${a.image}")`},children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent"}),(0,b.jsxs)("div",{className:"absolute bottom-4 left-4",children:[(0,b.jsx)("h3",{className:"text-white text-lg font-bold leading-tight",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-primary text-sm mt-1",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-[16px] fill-current",style:{fontVariationSettings:"'FILL' 1"},children:"star"}),(0,b.jsx)("span",{className:"font-bold",children:"average_rating"in a?a.average_rating:0}),(0,b.jsxs)("span",{className:"text-gray-300 font-normal",children:["• ","city_name"in a?`${a.district_name}, ${a.city_name}`:a.address]})]})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-border overflow-hidden shadow-card flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-border bg-gray-50",children:[(0,b.jsx)("h3",{className:"text-text-main font-bold text-lg",children:"Randevu Özeti"}),(0,b.jsx)("p",{className:"text-text-secondary text-xs",children:"Seçimleriniz aşağıdadır"})]}),(0,b.jsxs)("div",{className:"p-4 flex flex-col gap-4 max-h-[400px] overflow-y-auto custom-scrollbar",children:[e.map(a=>{let c="service_name"in a?a.service_name:a.name,d="duration_min"in a?`${a.duration_min} dk`:a.duration,e=a.price;return(0,b.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-text-main text-sm font-medium",children:c}),(0,b.jsx)("span",{className:"text-text-secondary text-xs",children:d})]}),(0,b.jsxs)("span",{className:"text-primary font-bold text-sm whitespace-nowrap",children:[e," TL"]})]},a.id)}),d&&(0,b.jsx)("div",{className:"mt-2 pt-4 border-t border-dashed border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-50 p-2 rounded-lg border border-border relative",children:[(0,b.jsx)("div",{className:"size-8 rounded-full bg-cover bg-center border border-gray-200",style:{backgroundImage:`url("${d.image}")`}}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-text-main text-xs font-bold",children:d.name}),(0,b.jsx)("span",{className:"text-primary text-[10px]",children:d.role})]}),1===h&&(0,b.jsx)("button",{className:"ml-auto text-text-muted hover:text-red-500 transition-colors",children:(0,b.jsx)("span",{className:"material-symbols-outlined text-[16px]",children:"close"})}),(2===h||3===h)&&(0,b.jsx)(c.default,{href:`/booking/${a.id}/staff`,className:"ml-auto text-primary text-[10px] font-bold hover:underline",children:"Değiştir"})]})})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-border",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,b.jsx)("span",{className:"text-text-secondary text-sm",children:"Toplam Süre"}),(0,b.jsx)("span",{className:"text-text-main text-sm font-medium",children:g})]}),(0,b.jsxs)("div",{className:"flex justify-between items-end mb-4",children:[(0,b.jsx)("span",{className:"text-text-secondary text-sm",children:"Toplam Tutar"}),(0,b.jsxs)("span",{className:"text-text-main text-xl font-bold",children:[f," TL"]})]}),1===h&&(0,b.jsxs)("button",{disabled:!d,className:`w-full h-12 rounded-lg font-bold text-base transition-colors shadow-md flex items-center justify-center gap-2 ${d?"bg-primary text-white hover:bg-primary-hover":"bg-gray-100 text-text-muted cursor-not-allowed"}`,children:[d?"Devam Et":"Personel Seçiniz",(0,b.jsx)("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_forward"})]}),h<4&&(0,b.jsx)("p",{className:"text-center text-text-muted text-[10px] mt-2",children:"Ödeme aşamasına henüz geçilmedi."})]})]}),1===h&&(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-blue-50 border border-blue-100 flex items-start gap-3",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-blue-600 mt-0.5",children:"help"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-900 text-sm font-bold",children:"Yardıma mı ihtiyacınız var?"}),(0,b.jsx)("p",{className:"text-blue-700 text-xs mt-1",children:"Personel seçimi konusunda kararsız kaldıysanız bizi arayabilirsiniz."}),(0,b.jsx)("a",{href:"#",className:"text-blue-600 text-xs font-bold mt-2 inline-block hover:underline",children:"0212 555 01 23"})]})]})]})})])},22062,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(27508),e=a.i(55961),f=a.i(14809),g=a.i(50944),h=a.i(13411);function i(){let a=(0,g.useParams)(),i=(0,g.useSearchParams)().get("appointmentId"),j=a.id,{salon:k,selectedService:l,selectedStaff:m,selectedDate:n,selectedTime:o}=(0,h.useBooking)(),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(k),[t,u]=(0,c.useState)(m),[v,w]=(0,c.useState)(l),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{if(y(!0),i){let a=await f.AppointmentService.getAppointmentById(i);if(!a){A("Randevu bulunamadı"),y(!1);return}q(a);let[b,c,d]=await Promise.all([f.SalonDataService.getSalonById(a.salon_id),f.StaffService.getStaffById(a.staff_id),f.ServiceService.getServiceById(a.salon_service_id)]);s(b),u(c),w(d)}else{if(!k&&j){let a=await f.SalonDataService.getSalonById(j);s(a)}if(!k||!l||!m){A("Randevu bilgileri eksik. Lütfen baştan başlayın."),y(!1);return}}y(!1)}catch(a){console.error("Error fetching booking data:",a),A("Randevu bilgileri yüklenirken bir hata oluştu"),y(!1)}})()},[i,j,k,l,m]);let B=v?.price||0,C=v?.duration_min?`${v.duration_min} dakika`:"Belirsiz";return(0,b.jsx)(d.Layout,{children:(0,b.jsx)("div",{className:"flex-1 flex justify-center py-8 px-4 md:px-10 lg:px-20 bg-background min-h-screen",children:(0,b.jsx)("div",{className:"w-full max-w-[1280px] flex flex-col gap-8",children:x?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-text-secondary",children:"Randevu bilgileri yükleniyor..."})]})}):z?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-red-200 p-8 text-center max-w-md",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-6xl text-red-500",children:"error"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-text-main mt-4",children:"Hata"}),(0,b.jsx)("p",{className:"text-text-secondary mt-2",children:z}),(0,b.jsx)("a",{href:"/",className:"mt-6 inline-block px-6 py-3 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover",children:"Ana Sayfaya Dön"})]})}):(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[(0,b.jsx)("div",{className:"w-full lg:w-[380px] flex-shrink-0 lg:sticky lg:top-24 order-2 lg:order-1",children:r&&t&&v&&(0,b.jsx)(e.BookingSummary,{salon:r,staff:t,services:[v],totalPrice:B,totalDuration:C,step:3})}),(0,b.jsx)("main",{className:"flex-1 w-full min-w-0 order-1 lg:order-2",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-border p-6 lg:p-8 shadow-card text-center",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-6xl text-green-500",children:"check_circle"}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-text-main mt-4",children:"Randevunuz Onaylandı!"}),(0,b.jsx)("p",{className:"text-text-secondary mt-2",children:"Randevu detaylarınız aşağıdadır. E-posta ve SMS ile de bilgilendirme yapılmıştır."}),p&&r&&t&&v&&(0,b.jsxs)("div",{className:"mt-8 text-left bg-gray-50 p-6 rounded-lg border border-border space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[(0,b.jsx)("span",{className:"font-semibold text-text-secondary",children:"Salon:"}),(0,b.jsx)("span",{className:"font-bold text-text-main",children:r.name})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[(0,b.jsx)("span",{className:"font-semibold text-text-secondary",children:"Personel:"}),(0,b.jsx)("span",{className:"font-bold text-text-main",children:t.name})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[(0,b.jsx)("span",{className:"font-semibold text-text-secondary",children:"Tarih & Saat:"}),(0,b.jsxs)("span",{className:"font-bold text-text-main",children:[new Date(p.start_time).toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})," - ",new Date(p.start_time).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[(0,b.jsx)("span",{className:"font-semibold text-text-secondary",children:"Hizmet:"}),(0,b.jsx)("span",{className:"font-bold text-text-main",children:v.service_name})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center border-b border-gray-200 pb-2",children:[(0,b.jsx)("span",{className:"font-semibold text-text-secondary",children:"Süre:"}),(0,b.jsx)("span",{className:"font-bold text-text-main",children:C})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,b.jsx)("span",{className:"font-semibold text-text-secondary text-lg",children:"Toplam Tutar:"}),(0,b.jsxs)("span",{className:"font-bold text-primary text-xl",children:[B," ₺"]})]}),p.notes&&(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,b.jsx)("span",{className:"font-semibold text-text-secondary block mb-2",children:"Notlar:"}),(0,b.jsx)("p",{className:"text-text-main text-sm bg-white p-3 rounded border border-gray-200",children:p.notes})]})]}),(0,b.jsxs)("div",{className:"mt-6 flex flex-col sm:flex-row gap-3 justify-center",children:[(0,b.jsx)("a",{href:r?`/salon/${r.id}`:"/",className:"px-6 py-3 bg-gray-100 text-text-main rounded-lg font-bold hover:bg-gray-200 transition-colors",children:"Salona Git"}),(0,b.jsx)("a",{href:"/",className:"px-6 py-3 bg-primary text-white rounded-lg font-bold hover:bg-primary-hover transition-colors",children:"Ana Sayfaya Dön"})]})]})})]})})})})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__6f2d3293._.js.map