module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},46786,(a,b,c)=>{b.exports=a.x("os",()=>require("os"))},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},4446,(a,b,c)=>{b.exports=a.x("net",()=>require("net"))},55004,(a,b,c)=>{b.exports=a.x("tls",()=>require("tls"))},92509,(a,b,c)=>{b.exports=a.x("url",()=>require("url"))},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},874,(a,b,c)=>{b.exports=a.x("buffer",()=>require("buffer"))},81111,(a,b,c)=>{b.exports=a.x("node:stream",()=>require("node:stream"))},55961,a=>{"use strict";var b=a.i(87924),c=a.i(38246);a.s(["BookingSummary",0,({salon:a,staff:d,services:e,totalPrice:f,totalDuration:g,step:h})=>(0,b.jsx)("div",{className:"w-full lg:w-80 shrink-0",children:(0,b.jsxs)("div",{className:"sticky top-24 flex flex-col gap-4",children:[h>=2&&(0,b.jsx)("div",{className:"rounded-xl bg-white border border-border overflow-hidden shadow-md mb-2",children:(0,b.jsxs)("div",{className:"h-32 w-full bg-cover bg-center relative",style:{backgroundImage:`url("${a.image}")`},children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent"}),(0,b.jsxs)("div",{className:"absolute bottom-4 left-4",children:[(0,b.jsx)("h3",{className:"text-white text-lg font-bold leading-tight",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-primary text-sm mt-1",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-[16px] fill-current",style:{fontVariationSettings:"'FILL' 1"},children:"star"}),(0,b.jsx)("span",{className:"font-bold",children:"average_rating"in a?a.average_rating:0}),(0,b.jsxs)("span",{className:"text-gray-300 font-normal",children:["• ","city_name"in a?`${a.district_name}, ${a.city_name}`:a.address]})]})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-border overflow-hidden shadow-card flex flex-col",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-border bg-gray-50",children:[(0,b.jsx)("h3",{className:"text-text-main font-bold text-lg",children:"Randevu Özeti"}),(0,b.jsx)("p",{className:"text-text-secondary text-xs",children:"Seçimleriniz aşağıdadır"})]}),(0,b.jsxs)("div",{className:"p-4 flex flex-col gap-4 max-h-[400px] overflow-y-auto custom-scrollbar",children:[e.map(a=>{let c="service_name"in a?a.service_name:a.name,d="duration_min"in a?`${a.duration_min} dk`:a.duration,e=a.price;return(0,b.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-text-main text-sm font-medium",children:c}),(0,b.jsx)("span",{className:"text-text-secondary text-xs",children:d})]}),(0,b.jsxs)("span",{className:"text-primary font-bold text-sm whitespace-nowrap",children:[e," TL"]})]},a.id)}),d&&(0,b.jsx)("div",{className:"mt-2 pt-4 border-t border-dashed border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center gap-3 bg-gray-50 p-2 rounded-lg border border-border relative",children:[(0,b.jsx)("div",{className:"size-8 rounded-full bg-cover bg-center border border-gray-200",style:{backgroundImage:`url("${d.image}")`}}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-text-main text-xs font-bold",children:d.name}),(0,b.jsx)("span",{className:"text-primary text-[10px]",children:d.role})]}),1===h&&(0,b.jsx)("button",{className:"ml-auto text-text-muted hover:text-red-500 transition-colors",children:(0,b.jsx)("span",{className:"material-symbols-outlined text-[16px]",children:"close"})}),(2===h||3===h)&&(0,b.jsx)(c.default,{href:`/booking/${a.id}/staff`,className:"ml-auto text-primary text-[10px] font-bold hover:underline",children:"Değiştir"})]})})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-border",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,b.jsx)("span",{className:"text-text-secondary text-sm",children:"Toplam Süre"}),(0,b.jsx)("span",{className:"text-text-main text-sm font-medium",children:g})]}),(0,b.jsxs)("div",{className:"flex justify-between items-end mb-4",children:[(0,b.jsx)("span",{className:"text-text-secondary text-sm",children:"Toplam Tutar"}),(0,b.jsxs)("span",{className:"text-text-main text-xl font-bold",children:[f," TL"]})]}),1===h&&(0,b.jsxs)("button",{disabled:!d,className:`w-full h-12 rounded-lg font-bold text-base transition-colors shadow-md flex items-center justify-center gap-2 ${d?"bg-primary text-white hover:bg-primary-hover":"bg-gray-100 text-text-muted cursor-not-allowed"}`,children:[d?"Devam Et":"Personel Seçiniz",(0,b.jsx)("span",{className:"material-symbols-outlined text-[20px]",children:"arrow_forward"})]}),h<4&&(0,b.jsx)("p",{className:"text-center text-text-muted text-[10px] mt-2",children:"Ödeme aşamasına henüz geçilmedi."})]})]}),1===h&&(0,b.jsxs)("div",{className:"p-4 rounded-xl bg-blue-50 border border-blue-100 flex items-start gap-3",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-blue-600 mt-0.5",children:"help"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-blue-900 text-sm font-bold",children:"Yardıma mı ihtiyacınız var?"}),(0,b.jsx)("p",{className:"text-blue-700 text-xs mt-1",children:"Personel seçimi konusunda kararsız kaldıysanız bizi arayabilirsiniz."}),(0,b.jsx)("a",{href:"#",className:"text-blue-600 text-xs font-bold mt-2 inline-block hover:underline",children:"0212 555 01 23"})]})]})]})})])},40868,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(14809),g=a.i(27508),h=a.i(55961),i=a.i(56850),j=a.i(13411);function k(){let a=(0,e.useParams)(),k=(0,e.useSearchParams)(),l=a.id,m=k.get("staffId"),{salon:n,setSalon:o,selectedService:p,selectedStaff:q}=(0,j.useBooking)(),[r,s]=(0,c.useState)(n),[t,u]=(0,c.useState)(q),[v,w]=(0,c.useState)(p?[p]:[]),[x,y]=(0,c.useState)(!0),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(new Date),[D,E]=(0,c.useState)(0);(0,c.useEffect)(()=>{(async()=>{if(l){y(!0);try{let a=n;if(!a&&(a=await f.SalonDataService.getSalonById(l),s(a),a&&o(a)),p)w([p]);else{let a=await f.ServiceService.getServicesBySalon(l);w(a)}if(q)u(q);else if(m&&"any"!==m){let a=await f.StaffService.getStaffById(m);a&&u({...a,image:a.photo||`https://i.pravatar.cc/150?u=${a.id}`,role:a.specialty||"Uzman",rating:4.5,isOnline:a.is_active})}else u({id:"any",salon_id:l,name:"Herhangi Bir Personel",specialty:"Otomatik Atama",is_active:!0,created_at:new Date().toISOString(),role:"Otomatik Atama",rating:0,image:"https://i.pravatar.cc/150?u=any",isOnline:!1})}catch(a){console.error("Error fetching data:",a)}finally{y(!1)}}})()},[l,m,n,q,p,o]);let F=(()=>{let a=[],b=new Date,c=["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],d=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"];for(let e=D;e<D+5;e++){let f=new Date(b);f.setDate(b.getDate()+e);let g=f.getDay(),h=0===g,i=c[g];0===e?i="Bugün":1===e&&(i="Yarın"),a.push({date:f,day:f.getDate(),month:d[f.getMonth()],name:i,disabled:h,active:f.toDateString()===B.toDateString()})}return a})(),G=v.reduce((a,b)=>a+Number(b.price||0),0),H=v.reduce((a,b)=>a+(b.duration_min||0),0),I=`${Math.floor(H/60)} sa ${H%60} dk`;return x?(0,b.jsx)(g.Layout,{children:(0,b.jsx)("div",{className:"flex-1 flex justify-center py-8 px-4 md:px-10 lg:px-20 bg-background min-h-screen",children:(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-text-secondary",children:"Yükleniyor..."})]})})})}):r?(0,b.jsxs)(g.Layout,{children:[(0,b.jsx)("div",{className:"flex-1 flex justify-center py-8 px-4 md:px-10 lg:px-20 bg-background min-h-screen",children:(0,b.jsxs)("div",{className:"w-full max-w-[1280px] flex flex-col gap-8",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 px-4",children:[(0,b.jsx)(d.default,{href:"/",className:"text-text-secondary text-sm font-medium hover:text-text-main transition-colors",children:"Salon Seçimi"}),(0,b.jsx)("span",{className:"material-symbols-outlined text-text-muted text-sm",children:"chevron_right"}),(0,b.jsx)(d.default,{href:`/booking/${l}/staff`,className:"text-text-secondary text-sm font-medium hover:text-text-main transition-colors",children:"Hizmet Seçimi"}),(0,b.jsx)("span",{className:"material-symbols-outlined text-text-muted text-sm",children:"chevron_right"}),(0,b.jsx)("span",{className:"text-primary text-sm font-bold border-b border-primary pb-0.5",children:"Zaman Slotları (Adım 3)"})]}),(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 items-start",children:[(0,b.jsx)("div",{className:"w-full lg:w-[380px] flex-shrink-0 lg:sticky lg:top-24 order-2 lg:order-1",children:(0,b.jsx)(h.BookingSummary,{salon:r,services:v,staff:t,totalPrice:G,totalDuration:I,step:2})}),(0,b.jsx)("main",{className:"flex-1 w-full min-w-0 order-1 lg:order-2",children:(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-text-main text-3xl font-bold leading-tight",children:"Randevu Zamanını Seçin"}),(0,b.jsx)("p",{className:"text-text-secondary text-base",children:"Müsaitlik durumuna göre size en uygun zaman dilimini belirleyin."})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 w-full overflow-x-auto pb-4 pt-2 no-scrollbar",children:[(0,b.jsx)("button",{onClick:()=>{D>0&&E(D-1)},disabled:0===D,className:"flex-shrink-0 size-10 rounded-full border border-border bg-white text-text-secondary hover:bg-gray-100 flex items-center justify-center transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed",children:(0,b.jsx)("span",{className:"material-symbols-outlined",children:"chevron_left"})}),F.map((a,c)=>(0,b.jsxs)("button",{disabled:a.disabled,onClick:()=>!a.disabled&&void(C(a.date),A(null)),className:`flex-shrink-0 flex flex-col items-center justify-center min-w-[80px] h-[90px] rounded-xl border transition-all relative overflow-hidden group shadow-sm ${a.active?"border-2 border-primary bg-primary/5":a.disabled?"border-border bg-gray-100 opacity-50 cursor-not-allowed":"border-border bg-white hover:border-primary/50 hover:bg-primary/5 cursor-pointer"}`,children:[a.active&&(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/5 group-hover:bg-primary/10 transition-colors"}),(0,b.jsx)("span",{className:`relative text-xs font-bold uppercase tracking-wider mb-1 ${a.active?"text-primary":"text-text-secondary"}`,children:a.name}),(0,b.jsx)("span",{className:"relative text-text-main text-2xl font-bold",children:a.day}),(0,b.jsx)("span",{className:"relative text-text-secondary text-xs",children:a.month}),a.disabled&&(0,b.jsx)("span",{className:"absolute bottom-1 text-[10px] text-red-500",children:"Kapalı"})]},c)),(0,b.jsx)("button",{onClick:()=>{E(D+1)},className:"flex-shrink-0 size-10 rounded-full border border-border bg-white text-text-secondary hover:bg-gray-100 flex items-center justify-center transition-colors shadow-sm",children:(0,b.jsx)("span",{className:"material-symbols-outlined",children:"chevron_right"})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-border p-6 lg:p-8 shadow-card",children:[(0,b.jsxs)("div",{className:"flex gap-6 mb-6 text-sm border-b border-border pb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"size-3 rounded-full bg-white border-2 border-primary shadow-sm"}),(0,b.jsx)("span",{className:"text-text-main",children:"Müsait"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"size-3 rounded-full bg-gray-200"}),(0,b.jsx)("span",{className:"text-text-muted",children:"Dolu"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"size-3 rounded-full bg-primary border border-primary"}),(0,b.jsx)("span",{className:"text-text-main",children:"Seçili"})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("h3",{className:"flex items-center gap-2 text-text-main text-sm font-bold uppercase tracking-wider mb-4",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-primary text-lg",children:"wb_sunny"})," Sabah (09:00 - 12:00)"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3",children:["09:00","09:30","10:15","11:00","11:45"].map((a,c)=>{let d=c%2==0;return(0,b.jsxs)("button",{disabled:d,onClick:()=>!d&&A(a),className:`group relative py-3 px-2 rounded-lg border transition-all flex flex-col justify-center items-center gap-0.5 ${d?"border-transparent bg-gray-100 text-text-muted cursor-not-allowed":z===a?"bg-primary text-white border-primary shadow-md transform scale-105 z-10":"border-border bg-white hover:border-primary hover:text-primary"}`,children:[z===a&&(0,b.jsx)("div",{className:"absolute -top-2 -right-2 size-5 bg-white text-primary border border-primary rounded-full flex items-center justify-center",children:(0,b.jsx)("span",{className:"material-symbols-outlined text-[14px] font-bold",children:"check"})}),(0,b.jsx)("span",{className:`text-sm font-bold ${d?"line-through decoration-gray-400 font-medium":z===a?"text-white":"text-text-main"}`,children:a})]},a)})})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"flex items-center gap-2 text-text-main text-sm font-bold uppercase tracking-wider mb-4",children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-primary text-lg",children:"light_mode"})," Öğleden Sonra (12:00 - 18:00)"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-3",children:["13:30","14:15","15:00","15:45","16:30","17:15"].map((a,c)=>{let d=1===c||4===c;return(0,b.jsxs)("button",{disabled:d,onClick:()=>!d&&A(a),className:`group relative py-3 px-2 rounded-lg border transition-all flex flex-col justify-center items-center gap-0.5 ${d?"border-transparent bg-gray-100 text-text-muted cursor-not-allowed":z===a?"bg-primary text-white border-primary shadow-md transform scale-105 z-10":"border-border bg-white hover:border-primary hover:text-primary"}`,children:[z===a&&(0,b.jsx)("div",{className:"absolute -top-2 -right-2 size-5 bg-white text-primary border border-primary rounded-full flex items-center justify-center",children:(0,b.jsx)("span",{className:"material-symbols-outlined text-[14px] font-bold",children:"check"})}),(0,b.jsx)("span",{className:`text-sm font-bold ${d?"line-through decoration-gray-400 font-medium":z===a?"text-white":"text-text-main"}`,children:a}),z===a&&(0,b.jsx)("span",{className:"text-[10px] opacity-90",children:"Bitiş: +45dk"})]},a)})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-border mt-4",children:[(0,b.jsxs)(d.default,{href:`/booking/${l}/staff`,className:"flex items-center gap-2 px-6 py-3 rounded-lg text-text-secondary font-medium hover:bg-gray-100 transition-colors",children:[(0,b.jsx)("span",{className:"material-symbols-outlined",children:"arrow_back"})," Geri Dön"]}),(0,b.jsxs)(d.default,{href:`/booking/${l}/confirm`,className:`flex items-center gap-2 px-8 py-3 rounded-lg bg-primary text-white font-bold shadow-lg shadow-primary/20 hover:bg-primary-hover hover:shadow-primary/40 hover:-translate-y-0.5 transition-all ${!z?"opacity-50 pointer-events-none":""}`,children:["Randevuyu Onayla",(0,b.jsx)("span",{className:"material-symbols-outlined",children:"check_circle"})]})]})]})})]})]})}),(0,b.jsx)(i.GeminiChat,{})]}):(0,b.jsx)(g.Layout,{children:(0,b.jsx)("div",{className:"flex-1 flex justify-center py-8 px-4 md:px-10 lg:px-20 bg-background min-h-screen",children:(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-text-main mb-4",children:"Salon bulunamadı"}),(0,b.jsx)(d.default,{href:"/",className:"text-primary hover:underline",children:"Ana sayfaya dön"})]})})})}a.s(["default",()=>k])},85685,a=>{a.v(a=>Promise.resolve().then(()=>a(54799)))},57882,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__7f2ada16._.js"].map(b=>a.l(b))).then(()=>b(4040)))},69375,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_node-fetch_src_utils_multipart-parser_1fb09452.js","server/chunks/ssr/[root-of-the-server]__d2f0654c._.js","server/chunks/ssr/[root-of-the-server]__988d8f45._.js"].map(b=>a.l(b))).then(()=>b(45806)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3e9cb3e6._.js.map